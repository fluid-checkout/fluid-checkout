jQuery(function(_){if("undefined"==typeof wc_address_i18n_params)return!1;var c={formRowSelector:".form-row",formRowExpansibleSelector:".form-row.fc-expansible-form-section",expansibleToggleSelector:".fc-expansible-form-section__toggle",expansibleContentSelector:".fc-expansible-form-section__content",inputSelector:"input, select, textarea",countryFieldsSelector:"#billing_country, #shipping_country, #country",addressFieldGroupSelector:".woocommerce-billing-fields, .woocommerce-shipping-fields, .woocommerce-address-fields",overrideLocaleAttributes:[]},e=(FCUtils&&window.fcSettings&&window.fcSettings.addressI18n&&(c=FCUtils.extendObject(!0,c,window.fcSettings.addressI18n)),wc_address_i18n_params.locale.replace(/&quot;/g,'"')),p=JSON.parse(e);function u(e,i){i?(e.find("label .optional").remove(),e.addClass("validate-required"),0===e.find("label .required").length&&e.find("label").append('&nbsp;<abbr class="required" title="'+wc_address_i18n_params.i18n_required_text+'">*</abbr>')):(e.find("label .required").remove(),e.removeClass("validate-required woocommerce-invalid woocommerce-invalid-required-field"),0===e.find("label .optional").length&&e.find("label").append('&nbsp;<span class="optional">('+wc_address_i18n_params.i18n_optional_text+")</span>"))}function l(e,i,d){var n=d,f=document.activeElement,s=void 0!==p[i]?p[i]:p.default,i=n.find("#postcode_field, #billing_postcode_field, #shipping_postcode_field"),o=n.find("#city_field, #billing_city_field, #shipping_city_field"),r=n.find("#state_field, #billing_state_field, #shipping_state_field"),i=(i.attr("data-o_class")||(i.attr("data-o_class",i.attr("class")),o.attr("data-o_class",o.attr("class")),r.attr("data-o_class",r.attr("class"))),JSON.parse(wc_address_i18n_params.locale_fields));_.each(i,function(e,i){var o,r,l,t,i=n.find(i),a=_.extend(!0,{},p.default[e],s[e]);0<c.overrideLocaleAttributes.length&&window.fcSettings&&window.fcSettings.checkoutFields&&(l="address",d.hasClass("woocommerce-billing-fields")?l="billing":d.hasClass("woocommerce-shipping-fields")&&(l="shipping"),t="address"!==l?l+"_"+e:e,l=window.fcSettings.checkoutFields[l])&&(l=l[t])&&_.each(l,function(e,i){-1<c.overrideLocaleAttributes.indexOf(e)&&(a[e]=i)}),void 0!==a.label&&i.find("label").html(a.label),void 0!==a.placeholder&&(i.find(":input").attr("placeholder",a.placeholder),i.find(":input").attr("data-placeholder",a.placeholder),i.find(".select2-selection__placeholder").text(a.placeholder)),void 0!==a.placeholder||void 0===a.label||i.find("label").length||(i.find(":input").attr("placeholder",a.label),i.find(":input").attr("data-placeholder",a.label),i.find(".select2-selection__placeholder").text(a.label)),u(i,void 0!==a.required&&a.required),void 0!==a.priority&&i.data("priority",a.priority),"state"!==e&&(void 0!==a.hidden&&!0===a.hidden?i.hide().find(":input").val(""):i.show()),window.CollapsibleBlock&&0<i.length&&(t=i[0].closest(c.formRowExpansibleSelector))&&(l=t.querySelector(c.expansibleToggleSelector),t=t.querySelector(c.expansibleContentSelector),l)&&t&&(o=!1,(void 0!==a.required&&!0===a.required||(r=i[0].querySelector(c.inputSelector))&&""!==r.value)&&(o=!0),(o="state"===e||!0!==a.hidden||void 0!==a.required&&!1!==a.required?o:!0)?(CollapsibleBlock.collapse(l,!1),CollapsibleBlock.expand(t,!1,!1)):(CollapsibleBlock.collapse(t,!1),CollapsibleBlock.expand(l,!1,!1))),Array.isArray(a.class)&&(i.removeClass("form-row-first form-row-last form-row-wide form-row-one-third form-row-two-thirds form-row-middle"),i.addClass(a.class.join(" ")))}),_(".woocommerce-billing-fields__field-wrapper,.woocommerce-shipping-fields__field-wrapper,.woocommerce-address-fields__field-wrapper,.woocommerce-additional-fields__field-wrapper .woocommerce-account-fields").each(function(e,i){for(var o,r,i=_(i).find(".form-row:not( .form-row .form-row )"),l=(i.first().parent(),0),t=(i.each(function(){_(this).data("priority")||_(this).data("priority",l+1),l=_(this).data("priority")}),i.sort(function(e,i){e=parseInt(_(e).data("priority"),10),i=parseInt(_(i).data("priority"),10);return i<e?1:e<i?-1:0}),!0),a=[],d=[],n=i.toArray(),s=0;s<n.length;s++)if((p=n[s]).contains(f)){r=o=p;break}for(s=0;s<n.length;s++)(p=n[s])===o?t=!1:(o||(r=p.parentNode.lastChild),(t?a:d).push(p));for(var c=0;c<a.length;c++)(p=a[c]).parentNode.insertBefore(p,r);for(var p,d=d.reverse(),c=0;c<d.length;c++)(p=d[c]).parentNode.insertBefore(p,r.nextSibling)}),FCUtils.maybeRefocusElement(f)}_(document.body).on("country_to_state_changing",l).on("updated_checkout",function(){var e=document.querySelectorAll(c.countryFieldsSelector);if(0<e.length)for(var i=0;i<e.length;i++){var o=e[i],r=o.closest(c.addressFieldGroupSelector);l(0,o.value,_(r))}}).trigger("wc_address_i18n_ready")});