{"version":3,"file":"../../goya/float-labels-319-beta-11.min.js","sources":["goya/float-labels-319-beta-11.js"],"sourcesContent":["/**\r\n * Rebuild floating labels for Goya theme.\r\n *\r\n * DEPENDS ON:\r\n * - jQuery // Interact with WooCommerce events\r\n */\r\n(function (root, factory) {\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\tdefine([], factory(root));\r\n\t} else if ( typeof exports === 'object' ) {\r\n\t\tmodule.exports = factory(root);\r\n\t} else {\r\n\t\troot.GoyaFloatLabels = factory(root);\r\n\t}\r\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\r\n\r\n\t'use strict';\r\n\r\n\tvar $ = jQuery;\r\n\tvar _hasJQuery = ( $ != null );\r\n\r\n\tvar _hasInitialized = false;\r\n\tvar _publicMethods = {};\r\n\r\n\r\n\r\n\t/**\r\n\t * METHODS\r\n\t */\r\n\r\n\r\n\r\n\t/**\r\n\t * Maybe rebuild floating labels component.\r\n\t */\r\n\tvar maybeRebuildFloatLabels = function() {\r\n\t\tvar self = this,\r\n\t\t\t\twpFormsEl = '.form-row input[type=text], .form-row input[type=password], .form-row input[type=email], .form-row input[type=number], .form-row input[type=tel], .form-row input[type=date], .form-row textarea, .form-row select, .comment-form textarea, .comment-form input[type=text], .comment-form input[type=password], .comment-form input[type=email]';\r\n\t\t\r\n\t\t$(wpFormsEl).each(function() {\r\n\r\n\t\t\t/// Skip some inputs\r\n\t\t\tif ( $(this).attr(\"id\") == 'rating' || ( $(this).parents('form.cart').length && !$(this).hasClass('wc-pao-addon-field') ) || $(this).parents('.woocommerce-checkout-payment').length )\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t// Add form-row if not exist\r\n\t\t\tif (! $(this).parent().hasClass('form-row') && ! $(this).parents().hasClass('woocommerce-input-wrapper') ) {\r\n\t\t\t\t$(this).parent().addClass('form-row');\r\n\t\t\t}\r\n\r\n\t\t\t$(this).parents('.form-row').addClass('float-label');\r\n\r\n\t\t\tvar $placeholder = $(this).attr('placeholder'),\r\n\t\t\t\t\t$label = $(this).parents('.form-row').find('label'),\r\n\t\t\t\t\t$val = $(this).val();\r\n\r\n\t\t\t$placeholder = (typeof $placeholder === 'undefined' || $placeholder === false) ? '' : $placeholder;\r\n\r\n\t\t\t// WC Add-ons plugin\r\n\t\t\tif ($(this).hasClass('wc-pao-addon-field')) {\r\n\r\n\t\t\t\tif ($(this).hasClass('wc-pao-addon-image-swatch-select')) return;\r\n\r\n\t\t\t\t$label = $(this).parent('.form-row').siblings('label.wc-pao-addon-name');\r\n\t\t\t\tif ($label.length) {\r\n\t\t\t\t\t$label.insertAfter($(this));\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$(this).insertBefore($label);\r\n\r\n\t\t\t\tif(! $label.length && $placeholder != '') {\r\n\t\t\t\t\t$(this).after('<label for=\"'+$(this).attr('name')+'\" class=\"fl-label\">'+ $placeholder+'</label>');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$label.addClass('fl-label');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Always floating for select boxes\r\n\t\t\tif ($val || $(this).is('select')) { $(this).parent('.form-row').addClass('has-val'); }\r\n\r\n\t\t});\r\n\r\n\t\t// Open select2 elements\r\n\t\t// CHANGE: Get reference to body element directly\r\n\t\t$( document.body ).on( 'click', '.fl-label', function() {\r\n\t\t\t$(this).parent().find('.select2-hidden-accessible').select2('open');\r\n\t\t});\r\n\r\n\t\t// CHANGE: Get reference to body element directly\r\n\t\t$( document.body ).on( 'blur change', wpFormsEl, function() {\r\n\t\t\tvar $val = $(this).val();\r\n\r\n\t\t\tvalidateFields($(this));\r\n\r\n\t\t\t// Check for autofilled fields in checkout\r\n\t\t\tif ($(this).closest('form').hasClass('checkout')) {\r\n\t\t\t\tvalidateFields( $('.checkout .form-row input[type=text]'));\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t\r\n\t\tfunction validateFields (element) {\r\n\t\t\telement.each(function() {\r\n\t\t\t\tvar $val = $(this).val();\r\n\r\n\t\t\t\tif ($val || $(this).is('select')) { \r\n\t\t\t\t\t$(this).parent('.form-row').addClass('has-val'); \r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(this).parent('.form-row').removeClass('has-val');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// CHANGE: Remove handling of NinjaForms as these are not supposed to be used on the checkout page\r\n\r\n\t\t// CHANGE: Get reference to body element directly\r\n\t\t$( document.body ).on( 'updated_cart_totals', function(){\r\n\t\t\tjQuery('input#coupon_code').each(function() {\r\n\t\t\t\t$(this).parents('.form-row').addClass('deplace');\r\n\t\t\t\tvar $label = $(this).parents('.form-row').find('label');\r\n\t\t\t\t$(this).insertBefore($label);\r\n\t\t\t\tvar $val = $(this).val();\r\n\t\t\t\tif ($val) { $(this).parent('.form-row').addClass('has-val'); }\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * Initialize component and set related handlers.\r\n\t */\r\n\t_publicMethods.init = function( options ) {\r\n\t\tif ( _hasInitialized ) return;\r\n\r\n\t\tif ( _hasJQuery ) {\r\n\t\t\t// Rebuild on updates\r\n\t\t\t// CHANGE: Get reference to body element directly\r\n\t\t\t$( document.body ).on( 'init_checkout updated_checkout', maybeRebuildFloatLabels );\r\n\t\t}\r\n\r\n\t\t// Rebuild on initialization\r\n\t\tsetTimeout( maybeRebuildFloatLabels, 100 );\r\n\t\tsetTimeout( maybeRebuildFloatLabels, 500 );\r\n\t\tsetTimeout( maybeRebuildFloatLabels, 1000 );\r\n\r\n\t\t_hasInitialized = true;\r\n\t};\r\n\r\n\r\n\r\n\t//\r\n\t// Public APIs\r\n\t//\r\n\treturn _publicMethods;\r\n\r\n});\r\n"],"names":["root","factory","define","amd","exports","module","GoyaFloatLabels","global","this","window","maybeRebuildFloatLabels","wpFormsEl","validateFields","element","each","$","val","is","parent","addClass","removeClass","attr","parents","length","hasClass","$placeholder","$label","find","$val","siblings","insertAfter","insertBefore","after","document","body","on","select2","closest","jQuery","_hasJQuery","_hasInitialized","_publicMethods","init","options","setTimeout"],"mappings":"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"}