!function(e,o){"function"==typeof define&&define.amd?define([],o()):"object"==typeof exports?module.exports=o():e.CheckoutWooDelivery=o()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function o(){var e=document.querySelector(v),o=document.querySelector(s);if(e&&o&&!e.value){for(var t,c=null,d=0;d<e.options.length;d++){var n=e.options[d];if(n.value===o.value&&!n.disabled){c=n;break}}c&&(e.value=c.value,t=new Event("change",{bubbles:!0}),e.dispatchEvent(t))}}function t(){var e=document.querySelectorAll(a);if(e.length)for(var o=0;o<e.length;o++){var t=e[o],c=t.id.includes("pickup")?k:f,c=document.querySelector(c),d=null;(d=t._flatpickr?t._flatpickr:d)&&c&&c.value&&!d.selectedDates.length&&d.setDate(c.value,!0,"Y-m-d")}}function c(){var e=document.querySelectorAll(_);if(e.length)for(var o=0;o<e.length;o++){var t=e[o],c=t.id.includes("pickup")?y:p,d=document.querySelector(c);if(d&&d.value&&!t.value){for(var n=null,l=0;l<t.options.length;l++){var i=t.options[l];if(i.value===d.value&&!i.disabled){n=i;break}}n&&(t.value=n.value)}}}function d(){l(document.body).trigger("update_checkout")}function n(e){e.target.matches(v)&&d(),(e.target.matches(a)||e.target.matches(_))&&d()}var l=jQuery,i=null!=l,r=!1,u={},a="#coderockz_woo_delivery_date_datepicker, #coderockz_woo_delivery_pickup_date_datepicker",_="#coderockz_woo_delivery_time_field, #coderockz_woo_delivery_pickup_time_field",v="#coderockz_woo_delivery_delivery_selection_box",f="#fc_coderockz_woo_delivery_date",p="#fc_coderockz_woo_delivery_time",k="#fc_coderockz_woo_pickup_date",y="#fc_coderockz_woo_pickup_time",s="#fc_coderockz_woo_delivery_type";return u.init=function(){r||(o(),t(),c(),window.addEventListener("change",n),i&&(l(document.body).on("change.select2",n),l(document.body).on("updated_checkout",o),l(document.body).on("updated_checkout",t),l(document.body).on("updated_checkout",c)),r=!0)},u});