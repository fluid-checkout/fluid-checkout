{"version":3,"file":"../../customer-email-verification/checkout-validation-customer-email-verification-325-beta-4.min.js","sources":["customer-email-verification/checkout-validation-customer-email-verification-325-beta-4.js"],"sourcesContent":["/**\r\n * Manage checkout front-end validation for: Customer Email Verification (by zorem).\r\n *\r\n * DEPENDS ON:\r\n * - checkout-validation.js // Main checkout validation script from Fluid Checkout\r\n */\r\n\r\n(function (root, factory) {\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\tdefine([], factory(root));\r\n\t} else if ( typeof exports === 'object' ) {\r\n\t\tmodule.exports = factory(root);\r\n\t} else {\r\n\t\troot.CheckoutValidationCustomerEmailVerification = factory(root);\r\n\t}\r\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _hasInitialized = false;\r\n\tvar _publicMethods = { };\r\n\tvar _settings = {\r\n\t\ttypeFieldSelector: '#billing_email',\r\n\t\tverificationStatusFieldSelector: '.validate-customer-email-verification',\r\n\t\tsectionSelector: '.fc-contact-fields',\r\n\t\tvalidationMessages: {\r\n\t\t\temail_not_verified: 'Please verify your email address.',\r\n\t\t},\r\n\t};\r\n\r\n\r\n\r\n\t/**\r\n\t * METHODS\r\n\t */\r\n\r\n\r\n\r\n\t/**\r\n\t * Check if form row is a CNPJ field.\r\n\t * @param  {Field}    field            Field for validation.\r\n\t * @param  {Element}  formRow          Form row element.\r\n\t * @param  {String}   validationEvent  Event that triggered the validation.\r\n\t * @return {Boolean}                   Whether the field is a CNPF field.\r\n\t */\r\n\tvar isValidateField = function( field, formRow, validationEvent ) {\r\n\t\t// Bail if not a target contact field\r\n\t\tif ( ! field.matches( _settings.typeFieldSelector ) ) { return false; }\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\r\n\r\n\t/**\r\n\t * Validate if the entered email has been verified.\r\n\t * @param  {Field}    field            Field for validation.\r\n\t * @param  {Element}  formRow          Form row element.\r\n\t * @param  {String}   validationEvent  Event that triggered the validation.\r\n\t * @return {Boolean}                   Whether the entered email has been verified.\r\n\t */\r\n\tvar validateField = function( field, formRow, validationEvent ) {\r\n\t\t// Get hidden field with verification status\r\n\t\tvar verificationStatusField = document.querySelector( _settings.verificationStatusFieldSelector );\r\n\r\n\t\t// Bail if verification status field value is empty\r\n\t\tif ( verificationStatusField && '' === verificationStatusField.value ) {\r\n\t\t\t// Scroll to section\r\n\t\t\tvar section = document.querySelector( _settings.sectionSelector );\r\n\t\t\tif ( section && section.scrollIntoView ) {\r\n\t\t\t\tsection.scrollIntoView();\r\n\t\t\t}\r\n\r\n\t\t\t// Return as invalid\r\n\t\t\treturn { valid: false, message: _settings.validationMessages.email_not_verified };\r\n\t\t}\r\n\r\n\t\t// Field is valid\r\n\t\treturn { valid: true };\r\n\t};\r\n\r\n\r\n\r\n\t/**\r\n\t * Register validation types.\r\n\t */\r\n\tvar registerValidationTypes = function() {\r\n\t\tCheckoutValidation.registerValidationType( 'customer-email-verification', 'customer-email-verification', isValidateField, validateField );\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * Initialize component and set related handlers.\r\n\t */\r\n\t_publicMethods.init = function( options ) {\r\n\t\tif ( _hasInitialized ) return;\r\n\r\n\t\t// Bail if `CheckoutValidation` is not available\r\n\t\tif ( ! window.CheckoutValidation ) { return; }\r\n\r\n\t\t// Merge settings\r\n\t\t_settings = FCUtils.extendObject( _settings, options );\r\n\r\n\t\t// Register validation types\r\n\t\tregisterValidationTypes();\r\n\r\n\t\t_hasInitialized = true;\r\n\t};\r\n\r\n\r\n\t\r\n\t//\r\n\t// Public APIs\r\n\t//\r\n\treturn _publicMethods;\r\n\r\n});\r\n"],"names":["root","factory","define","amd","exports","module","CheckoutValidationCustomerEmailVerification","global","this","window","isValidateField","field","formRow","validationEvent","matches","_settings","typeFieldSelector","validateField","verificationStatusField","document","querySelector","verificationStatusFieldSelector","value","section","sectionSelector","scrollIntoView","valid","message","validationMessages","email_not_verified","_hasInitialized","_publicMethods","init","options","CheckoutValidation","FCUtils","extendObject","registerValidationType"],"mappings":"AAOA,CAAA,SAAWA,EAAMC,GACO,YAAlB,OAAOC,QAAyBA,OAAOC,IAC3CD,OAAO,GAAID,EAAY,CAAC,EACM,UAAnB,OAAOG,QAClBC,OAAOD,QAAUH,EAAY,EAE7BD,EAAKM,4CAA8CL,EAAY,CAEhE,EAAoB,aAAlB,OAAOM,OAAyBA,OAASC,KAAKC,QAAUD,KAAKD,OAAQ,SAAUP,GAEjF,aA4BsB,SAAlBU,EAA4BC,EAAOC,EAASC,GAE/C,MAAOF,CAAAA,CAAAA,EAAMG,QAASC,EAAUC,iBAAkB,CAGnD,CAWoB,SAAhBC,EAA0BN,EAAOC,EAASC,GAE7C,IAAIK,EAA0BC,SAASC,cAAeL,EAAUM,+BAAgC,EAGhG,OAAKH,GAA2B,KAAOA,EAAwBI,QAE1DC,EAAUJ,SAASC,cAAeL,EAAUS,eAAgB,IAChDD,EAAQE,gBACvBF,EAAQE,eAAe,EAIjB,CAAEC,MAAO,CAAA,EAAOC,QAASZ,EAAUa,mBAAmBC,kBAAmB,GAI1E,CAAEH,MAAO,CAAA,CAAK,CACtB,CA5DA,IAAII,EAAkB,CAAA,EAClBC,EAAiB,GACjBhB,EAAY,CACfC,kBAAmB,iBACnBK,gCAAiC,wCACjCG,gBAAiB,qBACjBI,mBAAoB,CACnBC,mBAAoB,mCACrB,CACD,EAuFA,OApBAE,EAAeC,KAAO,SAAUC,GAC1BH,GAGErB,OAAOyB,qBAGdnB,EAAYoB,QAAQC,aAAcrB,EAAWkB,CAAQ,EAfrDC,mBAAmBG,uBAAwB,8BAA+B,8BAA+B3B,EAAiBO,CAAc,EAoBxIa,EAAkB,CAAA,EACnB,EAOOC,CAER,CAAC"}