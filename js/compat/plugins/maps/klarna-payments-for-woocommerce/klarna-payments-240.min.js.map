{"version":3,"file":"../../klarna-payments-for-woocommerce/klarna-payments-240.min.js","sources":["klarna-payments-for-woocommerce/klarna-payments-240.js"],"sourcesContent":["/* global console, Klarna */\njQuery( function($) {\n\t'use strict';\n\n\tvar klarna_payments = {\n\t\tauthorization_response: {},\n\t\tiframe_loaded: false,\n\t\tshow_form: false,\n\t\tklarna_container_selector: '#klarna_container_2',\n\t\tcheckout_values: {},\n\t\taddresses: {},\n\n\t\tcheck_changes: function() {\n\t\t\t$('.woocommerce-billing-fields input, .woocommerce-billing-fields select, .woocommerce-shipping-fields input, .woocommerce-shipping-fields select').each(function() {\n\t\t\t\tvar fieldName = $(this).attr('name');\n\t\t\t\tvar fieldValue = $(this).val();\n\t\t\t\tif ( klarna_payments.checkout_values[ fieldName ] !== fieldValue ) {\n\t\t\t\t\tklarna_payments.checkout_values[ fieldName ] = fieldValue;\n\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tdebounce_changes: function(func, wait, immediate) {\n\t\t\tvar timeout;\n\t\t\treturn function() {\n\t\t\t\tvar context = this, args = arguments;\n\t\t\t\tvar later = function() {\n\t\t\t\t\ttimeout = null;\n\t\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t\t};\n\t\t\t\tvar callNow = immediate && !timeout;\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\tif (callNow) func.apply(context, args);\n\t\t\t};\n\t\t},\n\n\t\tstart: function() {\n\t\t\t// Store all billing and shipping values.\n\t\t\t$(document).ready(function() {\n\t\t\t\t$('#customer_details input, #customer_details select').each(function() {\n\t\t\t\t\tvar fieldName = $(this).attr('name');\n\t\t\t\t\tvar fieldValue = $(this).val();\n\t\t\t\t\tklarna_payments.checkout_values[ fieldName ] = fieldValue;\n\t\t\t\t});\n\t\t\t\tif (klarna_payments.isKlarnaPaymentsSelected()) {\n\t\t\t\t\tklarna_payments.initKlarnaCredit();\n\t\t\t\t\tklarna_payments.load().then(klarna_payments.loadHandler);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * When WooCommerce updates checkout\n\t\t\t * Happens on initial page load, country, state and postal code changes\n\t\t\t */\n\t\t\t$('body').on('updated_checkout', function() {\n\t\t\t\t// Unblock the payments element if blocked\n\t\t\t\tvar blocked_el = $('.woocommerce-checkout-payment');\n\t\t\t\tvar blocked_el_data = blocked_el.data();\n\t\t\t\tif (blocked_el.length && 1 === blocked_el_data['blockUI.isBlocked']) {\n\t\t\t\t\tblocked_el.unblock();\n\t\t\t\t}\n\n\t\t\t\t// Check if we need to hide the shipping fields\n\t\t\t\tklarna_payments.maybeHideShippingAddress();\n\n\t\t\t\tif (klarna_payments.isKlarnaPaymentsSelected()) {\n\t\t\t\t\tklarna_payments.initKlarnaCredit();\n\t\t\t\t\tklarna_payments.load().then(klarna_payments.loadHandler);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Clear auth token if there's checkout error.\n\t\t\t */\n\t\t\t$( document.body ).on( 'checkout_error', function() {\n\t\t\t\t$('input[name=\"klarna_payments_authorization_token\"]').remove();\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Phone field changes. Has to be 5 characters or longer for KP to work.\n\t\t\t */\n\t\t\t$('form.checkout').on('keyup', '#billing_phone', klarna_payments.debounce_changes(function() {\n\t\t\t\tif (klarna_payments.isKlarnaPaymentsSelected()) {\n\t\t\t\t\t//$('#place_order').attr('disabled', true);\n\t\t\t\t\tif ($(this).val().length > 4) {\n\t\t\t\t\t\tklarna_payments.initKlarnaCredit();\n\t\t\t\t\t\tklarna_payments.load().then(klarna_payments.loadHandler);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 750));\n\n\t\t\t/**\n\t\t\t * Email field changes, check if WooCommerce says field is valid.\n\t\t\t */\n\t\t\t$('form.checkout').on('keyup', '#billing_email', klarna_payments.debounce_changes(function() {\n\t\t\t\tif (klarna_payments.isKlarnaPaymentsSelected()) {\n\t\t\t\t\t//$('#place_order').attr('disabled', true);\n\t\t\t\t\tif (!$(this).parent().hasClass('woocommerce-invalid')) {\n\t\t\t\t\t\tklarna_payments.initKlarnaCredit();\n\t\t\t\t\t\tklarna_payments.load().then(klarna_payments.loadHandler);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 750));\n\n\t\t\t/**\n\t\t\t * Billing company field changes.\n\t\t\t */\n\t\t\t$('form.checkout').on('keyup', '#billing_company', klarna_payments.debounce_changes(function() {\n\t\t\t\tif (klarna_payments.isKlarnaPaymentsSelected()) {\n\t\t\t\t\tklarna_payments.initKlarnaCredit();\n\t\t\t\t\tklarna_payments.load().then(klarna_payments.loadHandler);\n\t\t\t\t}\n\t\t\t}, 750));\n\n\t\t\t/**\n\t\t\t * When changing payment method.\n \t\t\t */\n\t\t\t$('body').on('change', 'input[name=\"payment_method\"]', function() {\n\t\t\t\t// If Klarna Payments is selected and iframe is not loaded yet, disable the form. Also collapse any unselected Klarna Payments gateways.\n\t\t\t\tif (klarna_payments.isKlarnaPaymentsSelected()) {\n\t\t\t\t\tklarna_payments.initKlarnaCredit();\n\t\t\t\t\tklarna_payments.load().then(klarna_payments.loadHandler);\n\t\t\t\t\tklarna_payments.collapseGateways();\n\t\t\t\t}\n\n\t\t\t\t// Enable the form if any other payment method is selected.\n\t\t\t\tif (!klarna_payments.isKlarnaPaymentsSelected()) {\n\t\t\t\t\t$('#place_order').attr('disabled', false);\n\t\t\t\t}\n\n\t\t\t\t// Check if we need to hide the shipping fields\n\t\t\t\tklarna_payments.maybeHideShippingAddress();\n\t\t\t});\n\n\t\t},\n\n\t\tload: function() {\n\t\t\tvar $defer = $.Deferred();\n\n\t\t\t// Dont run load during checkout completion.\n\t\t\tif( $('form.checkout').hasClass('processing') ) {\n\t\t\t\treturn $defer.reject();\n\t\t\t}\n\n\t\t\tvar klarna_payments_container_selector_id = '#' + klarna_payments.getSelectorContainerID();\n\t\t\tconsole.log(klarna_payments_container_selector_id);\n\n\t\t\tif (klarna_payments_container_selector_id) {\n\n\t\t\t\tvar klarnaLoadedInterval = setInterval(function () {\n\t\t\t\t\tvar Klarna = false;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tKlarna = window.Klarna;\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.debug(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Klarna && Klarna.Payments) {\n\t\t\t\t\t\tclearInterval(klarnaLoadedInterval);\n\t\t\t\t\t\tclearTimeout(klarnaLoadedTimeout);\n\n\t\t\t\t\t\tvar options = {\n\t\t\t\t\t\t\tcontainer: klarna_payments_container_selector_id,\n\t\t\t\t\t\t\tpayment_method_category: klarna_payments.getSelectedPaymentCategory() === \"klarna_payments\" ? \"\" : klarna_payments.getSelectedPaymentCategory()\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif ( 'US' === $('#billing_country').val() ) {\n\t\t\t\t\t\t\tvar address = klarna_payments.get_address_from_checkout_form();\n\n\t\t\t\t\t\t\tKlarna.Payments.load(\n\t\t\t\t\t\t\t\toptions,\n\t\t\t\t\t\t\t\taddress,\n\t\t\t\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\t\t\t\t$defer.resolve(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tKlarna.Payments.load(\n\t\t\t\t\t\t\t\toptions,\n\t\t\t\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\t\t\t\t$defer.resolve(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\n\t\t\t\tvar klarnaLoadedTimeout = setTimeout(function () {\n\t\t\t\t\tclearInterval(klarnaLoadedInterval);\n\t\t\t\t\t$defer.reject();\n\t\t\t\t}, 3000);\n\n\t\t\t\treturn $defer.promise();\n\t\t\t}\n\t\t},\n\n\t\tloadHandler: function(response) {\n\t\t\tklarna_payments.iframe_loaded = true;\n\n\t\t\tif (response.show_form) {\n\t\t\t\tklarna_payments.show_form = true;\n\t\t\t}\n\t\t},\n\n\t\tisKlarnaPaymentsSelected: function () {\n\t\t\tif ($('input[name=\"payment_method\"]:checked').length) {\n\t\t\t\tvar selected_value = $('input[name=\"payment_method\"]:checked').val();\n\t\t\t\treturn selected_value.indexOf('klarna_payments') !== -1;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\tsetRadioButtonValues: function () {\n\t\t\t$('input[name=\"payment_method\"]').each( function( ) {\n\t\t\t\tif( $(this).val().indexOf( 'klarna_payments' ) !== -1 ) {\n\t\t\t\t\t$(this).val( 'klarna_payments' );\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t},\n\n\t\tgetSelectorContainerID: function() {\n\t\t\tvar containerID = $('input[name=\"payment_method\"]:checked').attr('id').replace('payment_method_', '');\n\n\t\t\treturn containerID + '_container';\n\t\t},\n\n\t\tgetSelectedPaymentCategory: function() {\n\t\t\tvar selected_category = $('input[name=\"payment_method\"]:checked').attr('id').replace('payment_method_', '');\n\t\t\tconsole.log( selected_category );\n\t\t\treturn selected_category.replace('klarna_payments_', '');\n\t\t},\n\n\t\tauthorize: function() {\n\t\t\tvar $defer = $.Deferred();\n\t\t\tvar address = klarna_payments.get_address();\n\n\t\t\tklarna_payments.authorization_response = {};\n\n\t\t\ttry {\n\t\t\t\tKlarna.Payments.authorize(\n\t\t\t\t\taddress,\n\t\t\t\t\t{payment_method_category: klarna_payments.getSelectedPaymentCategory() === \"klarna_payments\" ? \"\" : klarna_payments.getSelectedPaymentCategory()},\n\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\tklarna_payments.authorization_response = response;\n\t\t\t\t\t\t$defer.resolve(response);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\n\t\t\treturn $defer.promise();\n\t\t},\n\n\t\tget_address: function() {\n\t\t\tvar address = {\n\t\t\t\tbilling_address: {\n\t\t\t\t\tgiven_name : klarna_payments.addresses.billing.given_name,\n\t\t\t\t\tfamily_name : klarna_payments.addresses.billing.family_name,\n\t\t\t\t\temail : klarna_payments.addresses.billing.email,\n\t\t\t\t\tphone : klarna_payments.addresses.billing.phone,\n\t\t\t\t\tcountry : klarna_payments.addresses.billing.country,\n\t\t\t\t\tregion : klarna_payments.addresses.billing.region,\n\t\t\t\t\tpostal_code : klarna_payments.addresses.billing.postal_code,\n\t\t\t\t\tcity : klarna_payments.addresses.billing.city,\n\t\t\t\t\tstreet_address : klarna_payments.addresses.billing.street_address,\n\t\t\t\t\tstreet_address2 : klarna_payments.addresses.billing.street_address2,\n\t\t\t\t\torganization_name : ( 'b2b' === klarna_payments_params.customer_type ) ? klarna_payments.addresses.billing.organization_name : '',\n\t\t\t\t},\n\t\t\t\tshipping_address: {}\n\t\t\t};\n\n\t\t\taddress.shipping_address = $.extend({}, address.billing_address);\n\n\t\t\tif ( $( '#ship-to-different-address' ).find( 'input' ).is( ':checked' ) ) {\n\t\t\t\taddress.shipping_address.given_name = klarna_payments.addresses.shipping.given_name;\n\t\t\t\taddress.shipping_address.family_name = klarna_payments.addresses.shipping.family_name;\n\t\t\t\taddress.shipping_address.country = klarna_payments.addresses.shipping.country;\n\t\t\t\taddress.shipping_address.region = klarna_payments.addresses.shipping.region;\n\t\t\t\taddress.shipping_address.postal_code = klarna_payments.addresses.shipping.postal_code;\n\t\t\t\taddress.shipping_address.city = klarna_payments.addresses.shipping.city;\n\t\t\t\taddress.shipping_address.street_address = klarna_payments.addresses.shipping.street_address;\n\t\t\t\taddress.shipping_address.street_address2 = klarna_payments.addresses.shipping.street_address2;\n\t\t\t}\n\n\t\t\treturn address;\n\t\t},\n\n\t\tget_address_from_checkout_form: function() {\n\t\t\tvar address = {\n\t\t\t\tbilling_address: {\n\t\t\t\t\tgiven_name : klarna_payments.checkout_values.billing_first_name,\n\t\t\t\t\tfamily_name : klarna_payments.checkout_values.billing_last_name,\n\t\t\t\t\temail : klarna_payments.checkout_values.billing_email,\n\t\t\t\t\tphone : klarna_payments.checkout_values.billing_phone,\n\t\t\t\t\tcountry : klarna_payments.checkout_values.billing_country,\n\t\t\t\t\tregion : klarna_payments.checkout_values.billing_state,\n\t\t\t\t\tpostal_code : klarna_payments.checkout_values.billing_postcode,\n\t\t\t\t\tcity : klarna_payments.checkout_values.billing_city,\n\t\t\t\t\tstreet_address : klarna_payments.checkout_values.billing_address_1,\n\t\t\t\t\tstreet_address2 : klarna_payments.checkout_values.billing_address_2,\n\t\t\t\t\torganization_name : ( 'b2b' === klarna_payments_params.customer_type ) ? klarna_payments.checkout_values.billing_company : '',\n\t\t\t\t},\n\t\t\t\tshipping_address: {}\n\t\t\t};\n\n\t\t\taddress.shipping_address = $.extend({}, address.billing_address);\n\n\t\t\tif ( $( '#ship-to-different-address' ).find( 'input' ).is( ':checked' ) ) {\n\t\t\t\taddress.shipping_address.given_name = klarna_payments.checkout_values.shipping_first_name;\n\t\t\t\taddress.shipping_address.family_name = klarna_payments.checkout_values.shipping_last_name;\n\t\t\t\taddress.shipping_address.country = klarna_payments.checkout_values.shipping_country;\n\t\t\t\taddress.shipping_address.region = klarna_payments.checkout_values.shipping_state;\n\t\t\t\taddress.shipping_address.postal_code = klarna_payments.checkout_values.shipping_postcode;\n\t\t\t\taddress.shipping_address.city = klarna_payments.checkout_values.shipping_city;\n\t\t\t\taddress.shipping_address.street_address = klarna_payments.checkout_values.shipping_address_1;\n\t\t\t\taddress.shipping_address.street_address2 = klarna_payments.checkout_values.shipping_address_2;\n\t\t\t}\n\n\t\t\treturn address;\n\t\t},\n\n\t\tcollapseGateways: function() {\n\t\t\t$('input[name=\"payment_method\"]').each( function() {\n\t\t\t\tif ( $(this).is( ':checked' ) ){\n\t\t\t\t\t$(this).siblings(\"div.payment_box\").show();\n\t\t\t\t} else {\n\t\t\t\t\t$(this).siblings(\"div.payment_box\").hide();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tmaybeHideShippingAddress: function() {\n\t\t\tif( false !== klarna_payments.isKlarnaPaymentsSelected() ) {\n\t\t\t\tif( 'b2b' === klarna_payments_params.customer_type ) {\n\t\t\t\t\tjQuery('#customer_details .col-2').hide();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tjQuery('#customer_details .col-2').show();\n\t\t\t}\n\t\t},\n\n\t\tinitKlarnaCredit: function ( client_token ) {\n\t\t\tvar client_token = klarna_payments.getClientToken();\n\t\t\twindow.klarnaInitData = {client_token: client_token};\n\t\t\tKlarna.Payments.init(klarnaInitData);\n\t\t},\n\n\t\tprintErrorMessage: function( message ) {\n\t\t\t$('#klarna-payments-error-notice').remove();\n\t\t\t$('form.checkout').prepend( '<div id=\"klarna-payments-error-notice\" class=\"woocommerce-NoticeGroup\"><ul class=\"woocommerce-error\" role=\"alert\"><li>' +  message + '</li></ul></div>' );\n\t\t\t\tvar etop = $('form.checkout').offset().top;\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: etop\n\t\t\t\t}, 1000);\n\t\t},\n\n\t\tauthorizeKlarnaOrder: function( order_id ) {\n\t\t\tklarna_payments.authorize().done( function( response ) {\n\t\t\t\tif ('authorization_token' in response) {\n\t\t\t\t\t$('body').trigger( 'kp_auth_success' );\n\t\t\t\t\t$.ajax(\n\t\t\t\t\t\tklarna_payments_params.place_order_url,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\tasync: true,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\torder_id: order_id,\n\t\t\t\t\t\t\t\tauth_token: klarna_payments.authorization_response.authorization_token,\n\t\t\t\t\t\t\t\tnonce: klarna_payments_params.place_order_nonce,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: function (response) {\n\t\t\t\t\t\t\t\t// Log the success.\n\t\t\t\t\t\t\t\tconsole.log('kp_place_order success');\n\t\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function (response) {\n\t\t\t\t\t\t\t\t// Log the error.\n\t\t\t\t\t\t\t\tconsole.log('kp_place_order error');\n\t\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcomplete: function (response) {\n\t\t\t\t\t\t\t\tif( response.responseJSON.success === true ) {\n\t\t\t\t\t\t\t\t\twindow.location.href = response.responseJSON.data;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$('form.checkout').removeClass('processing').unblock();\n\t\t\t\t\t\t\t\t\t$('form.checkout').find( '.input-text, select, input:checkbox' ).trigger( 'validate' ).blur();\n\t\t\t\t\t\t\t\t\t$('form.checkout').trigger('update_checkout');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$('body').trigger( 'kp_auth_failed' );\n\n\t\t\t\t\t// Re-enable the form.\n\t\t\t\t\t$( 'body' ).trigger( 'updated_checkout' );\n\t\t\t\t\t$( 'form.checkout' ).removeClass( 'processing' );\n\t\t\t\t\t$( 'form.checkout' ).unblock();\n\t\t\t\t\t$( '.woocommerce-checkout-review-order-table' ).unblock();\n\n\t\t\t\t\tconsole.log('No authorization_token in response');\n\t\t\t\t\t$('form.woocommerce-checkout').removeClass( 'processing' ).unblock();\n\t\t\t\t\t$.ajax(\n\t\t\t\t\t\tklarna_payments_params.auth_failed_url,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\t\tasync: true,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tshow_form: response.show_form,\n\t\t\t\t\t\t\t\torder_id: json.order_id,\n\t\t\t\t\t\t\t\tnonce: klarna_payments_params.auth_failed_nonce\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tklarnaPayForOrder: function( event ) {\n\t\t\tif( klarna_payments.isKlarnaPaymentsSelected() ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tklarna_payments.addresses = klarna_payments_params.addresses;\n\t\t\t\tklarna_payments.authorizeKlarnaOrder( klarna_payments_params.order_id );\n\t\t\t}\n\t\t},\n\n\t\tgetClientToken: function() {\n\t\t\tif( $('#kp_client_token').length > 0 ) {\n\t\t\t\treturn $('#kp_client_token').val();\n\t\t\t} else {\n\t\t\t\treturn klarna_payments_params.client_token;\n\t\t\t}\n\t\t},\n\n\t\torderSubmit: function( event ) {\n\t\t\tif( klarna_payments.isKlarnaPaymentsSelected() ) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif( $('form.checkout').is('.processing') ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t$('form.checkout').addClass('processing');\n\t\t\t\t$( '.woocommerce-checkout-review-order-table' ).block({\n\t\t\t\t\tmessage: null,\n\t\t\t\t\toverlayCSS: {\n\t\t\t\t\t\tbackground: '#fff',\n\t\t\t\t\t\topacity: 0.6\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t$.ajax({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: klarna_payments_params.submit_order,\n\t\t\t\t\tdata: $('form.checkout').serialize(),\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif ( 'success' === data.result ) {\n\t\t\t\t\t\t\t\tklarna_payments.logToFile( 'Successfully placed order. Starting authorization with Klarna' );\t\n\t\t\t\t\t\t\t\tklarna_payments.addresses = data.addresses\n\t\t\t\t\t\t\t\tklarna_payments.authorizeKlarnaOrder( data.order_id );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow 'Result failed';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch ( err ) {\n\t\t\t\t\t\t\tif ( data.messages )  {\n\t\t\t\t\t\t\t\tklarna_payments.logToFile( 'Checkout error | ' + data.messages );\n\t\t\t\t\t\t\t\tklarna_payments.failOrder( 'submission', data.messages );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tklarna_payments.logToFile( 'Checkout error | ' + err );\n\t\t\t\t\t\t\t\tklarna_payments.failOrder( 'submission', '<div class=\"woocommerce-error\">' + 'Checkout error' + '</div>' );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror: function( data ) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tklarna_payments.logToFile( 'AJAX error | ' + JSON.stringify(data) );\n\t\t\t\t\t\t} catch( e ) {\n\t\t\t\t\t\t\tklarna_payments.logToFile( 'AJAX error | Failed to parse error message.' );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tklarna_payments.failOrder( 'ajax-error', '<div class=\"woocommerce-error\">Internal Server Error</div>' );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Fails the order with Klarna on a checkout error and timeout.\n\t\t * @param {string} event \n\t\t */\n\t\tfailOrder: function( event, error_message ) {\n\n\t\t\t// Re-enable the form.\n\t\t\t$( 'body' ).trigger( 'updated_checkout' );\n\t\t\t$( 'form.checkout' ).removeClass( 'processing' );\n\t\t\t$( 'form.checkout' ).unblock();\n\t\t\t$( '.woocommerce-checkout-review-order-table' ).unblock();\n\n\t\t\t// Print error messages, and trigger checkout_error, and scroll to notices.\n\t\t\t$( '.woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message' ).remove();\n\t\t\t$( 'form.checkout' ).prepend( '<div class=\"woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout\">' + error_message + '</div>' ); // eslint-disable-line max-len\n\t\t\t$( 'form.checkout' ).removeClass( 'processing' ).unblock();\n\t\t\t$( 'form.checkout' ).find( '.input-text, select, input:checkbox' ).trigger( 'validate' ).blur();\n\t\t\t$( document.body ).trigger( 'checkout_error' , [ error_message ] );\n\t\t\t$( 'html, body' ).animate( {\n\t\t\t\tscrollTop: ( $( 'form.checkout' ).offset().top - 100 )\n\t\t\t}, 1000 );\n\t\t},\n\n\t\t/**\n\t\t * Logs the message to the klarna payments log in WooCommerce.\n\t\t * @param {string} message \n\t\t */\n\t\tlogToFile: function( message ) {\n\t\t\t$.ajax(\n\t\t\t\t{\n\t\t\t\t\turl: klarna_payments_params.log_to_file_url,\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdataType: 'json',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\tnonce: klarna_payments_params.log_to_file_nonce\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t\n\t};\n\tklarna_payments.start();\n\t$('body').ready( function() {\n\t\tklarna_payments.setRadioButtonValues();\n\t});\n\n\t$('body').ajaxComplete( function() {\n\t\tklarna_payments.setRadioButtonValues();\n\t});\n\n\t// CHANGE: Use a class selector for the place order button as more than one place order button might exist on the same page\n\t$('body').on( 'click', '.fc-place-order-button', function( e ) {\n\t\tif( \"true\" === klarna_payments_params.pay_for_order ) {\n\t\t\tklarna_payments.klarnaPayForOrder( e );\n\t\t} else {\n\t\t\tklarna_payments.orderSubmit( e );\n\t\t}\n\t});\n});\n"],"names":["jQuery","$","klarna_payments","authorization_response","iframe_loaded","show_form","klarna_container_selector","checkout_values","addresses","check_changes","each","fieldName","this","attr","fieldValue","val","trigger","debounce_changes","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","setTimeout","apply","start","document","ready","isKlarnaPaymentsSelected","initKlarnaCredit","load","then","loadHandler","on","blocked_el","blocked_el_data","data","length","unblock","maybeHideShippingAddress","body","remove","parent","hasClass","collapseGateways","$defer","Deferred","reject","klarnaLoadedInterval","klarnaLoadedTimeout","klarna_payments_container_selector_id","getSelectorContainerID","console","log","setInterval","options","address","Klarna","window","e","debug","Payments","clearInterval","container","payment_method_category","getSelectedPaymentCategory","get_address_from_checkout_form","response","resolve","promise","indexOf","setRadioButtonValues","replace","selected_category","authorize","get_address","billing_address","given_name","billing","family_name","email","phone","country","region","postal_code","city","street_address","street_address2","organization_name","klarna_payments_params","customer_type","shipping_address","extend","find","is","shipping","billing_first_name","billing_last_name","billing_email","billing_phone","billing_country","billing_state","billing_postcode","billing_city","billing_address_1","billing_address_2","billing_company","shipping_first_name","shipping_last_name","shipping_country","shipping_state","shipping_postcode","shipping_city","shipping_address_1","shipping_address_2","siblings","show","hide","client_token","getClientToken","klarnaInitData","init","printErrorMessage","message","prepend","etop","offset","top","animate","scrollTop","authorizeKlarnaOrder","order_id","done","ajax","place_order_url","type","dataType","async","auth_token","authorization_token","nonce","place_order_nonce","success","error","complete","responseJSON","location","href","removeClass","blur","auth_failed_url","json","auth_failed_nonce","klarnaPayForOrder","event","preventDefault","orderSubmit","addClass","block","overlayCSS","background","opacity","url","submit_order","serialize","result","logToFile","err","messages","failOrder","JSON","stringify","error_message","log_to_file_url","log_to_file_nonce","ajaxComplete","pay_for_order"],"mappings":"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"}