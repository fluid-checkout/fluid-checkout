{"version":3,"file":"../../wc-brt-fermopoint-shipping-methods/checkout-validation-fermopoint-304.min.js","sources":["wc-brt-fermopoint-shipping-methods/checkout-validation-fermopoint-304.js"],"sourcesContent":["/**\n * Manage checkout front-end validation for: BRT Fermopoint (by BRT)\n *\n * DEPENDS ON:\n * - checkout-validation.js // Main checkout validation script from Fluid Checkout\n */\n\n(function (root, factory) {\n\tif ( typeof define === 'function' && define.amd ) {\n\t\tdefine([], factory(root));\n\t} else if ( typeof exports === 'object' ) {\n\t\tmodule.exports = factory(root);\n\t} else {\n\t\troot.CheckoutValidationFermopoint = factory(root);\n\t}\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\n\n\t'use strict';\n\n\tvar _hasInitialized = false;\n\tvar _publicMethods = { };\n\tvar _settings = {\n\t\ttypeFermopointFieldSelector: '.validate-fermopoint',\n\t\tfermopointSectionSelector: '#wc_brt_fermopoint_shipping_methods_custom-tr_container',\n\t\tvalidationMessages: {\n\t\t\tfermopoint_not_selected: 'Selecting a collection point is required when shipping with FermoPoint.',\n\t\t},\n\t};\n\n\n\n\t/**\n\t * METHODS\n\t */\n\n\n\n\t/**\n\t * Check if form row is a CNPJ field.\n\t * @param  {Field}    field            Field for validation.\n\t * @param  {Element}  formRow          Form row element.\n\t * @param  {String}   validationEvent  Event that triggered the validation.\n\t * @return {Boolean}                   Whether the field is a CNPF field.\n\t */\n\tvar isFermopointField = function( field, formRow, validationEvent ) {\n\t\t// Bail if Fermopoint shipping method not selected\n\t\tif ( ! isSelectedBrtFermopointShippingMethod() ) { return false; }\n\n\t\t// Bail if not a Fermopoint field\n\t\tif ( ! field.matches( _settings.typeFermopointFieldSelector ) ) { return false; }\n\n\t\treturn true;\n\t};\n\n\n\n\t/**\n\t * Validate if a fermopoint collection point is selected.\n\t * @param  {Field}    field            Field for validation.\n\t * @param  {Element}  formRow          Form row element.\n\t * @param  {String}   validationEvent  Event that triggered the validation.\n\t * @return {Boolean}                   Whether a fermopoint collection point has been selected.\n\t */\n\tvar validateFermpoint = function( field, formRow, validationEvent ) {\n\t\t// Bail if fermopoint field is empty\n\t\tif ( '' === field.value ) {\n\t\t\t// Scroll to fermopoint section\n\t\t\tvar fermopointSection = document.querySelector( _settings.fermopointSectionSelector );\n\t\t\tif ( fermopointSection && fermopointSection.scrollIntoView ) {\n\t\t\t\tfermopointSection.scrollIntoView();\n\t\t\t}\n\n\t\t\t// Return as invalid\n\t\t\treturn { valid: false, message: _settings.validationMessages.fermopoint_not_selected };\n\t\t}\n\n\t\t// Field is valid\n\t\treturn { valid: true };\n\t};\n\n\n\n\t/**\n\t * Register validation types.\n\t */\n\tvar registerValidationTypes = function() {\n\t\tCheckoutValidation.registerValidationType( 'fermopoint', 'fermopoint', isFermopointField, validateFermpoint );\n\t}\n\n\n\n\t/**\n\t * Initialize component and set related handlers.\n\t */\n\t_publicMethods.init = function( options ) {\n\t\tif ( _hasInitialized ) return;\n\n\t\t// Bail if `CheckoutValidation` is not available\n\t\tif ( ! window.CheckoutValidation ) { return; }\n\n\t\t// Bail if global functions from Fermpoint script are not available\n\t\tif ( ! window.isSelectedBrtFermopointShippingMethod ) { return; }\n\n\t\t// Merge settings\n\t\t_settings = FCUtils.extendObject( _settings, options );\n\n\t\t// Register validation types\n\t\tregisterValidationTypes();\n\n\t\t_hasInitialized = true;\n\t};\n\n\n\t\n\t//\n\t// Public APIs\n\t//\n\treturn _publicMethods;\n\n});\n"],"names":["root","factory","define","amd","exports","module","CheckoutValidationFermopoint","global","this","window","isFermopointField","field","formRow","validationEvent","isSelectedBrtFermopointShippingMethod","matches","_settings","typeFermopointFieldSelector","validateFermpoint","value","fermopointSection","document","querySelector","fermopointSectionSelector","scrollIntoView","valid","message","validationMessages","fermopoint_not_selected","_hasInitialized","_publicMethods","init","options","CheckoutValidation","FCUtils","extendObject","registerValidationType"],"mappings":"AAOA,CAAA,SAAWA,EAAMC,GACO,YAAlB,OAAOC,QAAyBA,OAAOC,IAC3CD,OAAO,GAAID,EAAY,CAAC,EACM,UAAnB,OAAOG,QAClBC,OAAOD,QAAUH,EAAY,EAE7BD,EAAKM,6BAA+BL,EAAY,CAEjD,EAAoB,aAAlB,OAAOM,OAAyBA,OAASC,KAAKC,QAAUD,KAAKD,OAAQ,SAAUP,GAEjF,aA2BwB,SAApBU,EAA8BC,EAAOC,EAASC,GAEjD,MAAOC,CAAAA,CAAAA,sCAAsC,GAGtCH,CAAAA,CAAAA,EAAMI,QAASC,EAAUC,2BAA4B,CAG7D,CAWwB,SAApBC,EAA8BP,EAAOC,EAASC,GAEjD,MAAK,KAAOF,EAAMQ,QAEbC,EAAoBC,SAASC,cAAeN,EAAUO,yBAA0B,IAC1DH,EAAkBI,gBAC3CJ,EAAkBI,eAAe,EAI3B,CAAEC,MAAO,CAAA,EAAOC,QAASV,EAAUW,mBAAmBC,uBAAwB,GAI/E,CAAEH,MAAO,CAAA,CAAK,CACtB,CA3DA,IAAII,EAAkB,CAAA,EAClBC,EAAiB,GACjBd,EAAY,CACfC,4BAA6B,uBAC7BM,0BAA2B,0DAC3BI,mBAAoB,CACnBC,wBAAyB,yEAC1B,CACD,EA0FA,OAvBAE,EAAeC,KAAO,SAAUC,GAC1BH,GAGEpB,OAAOwB,oBAGPxB,OAAOK,wCAGdE,EAAYkB,QAAQC,aAAcnB,EAAWgB,CAAQ,EAlBrDC,mBAAmBG,uBAAwB,aAAc,aAAc1B,EAAmBQ,CAAkB,EAuB5GW,EAAkB,CAAA,EACnB,EAOOC,CAER,CAAC"}