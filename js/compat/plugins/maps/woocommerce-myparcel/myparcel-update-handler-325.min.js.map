{"version":3,"file":"../../woocommerce-myparcel/myparcel-update-handler-325.min.js","sources":["woocommerce-myparcel/myparcel-update-handler-325.js"],"sourcesContent":["/**\n * Handle updates of the MyParcel delivery options.\n */\n\n(function (root, factory) {\n\tif ( typeof define === 'function' && define.amd ) {\n\t\tdefine([], factory(root));\n\t} else if ( typeof exports === 'object' ) {\n\t\tmodule.exports = factory(root);\n\t} else {\n\t\troot.MyParcelUpdateHandler = factory(root);\n\t}\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\n\n\t'use strict';\n\n\tvar $ = jQuery;\n\tvar _hasJQuery = ( $ != null );\n\n\tvar _hasInitialized = false;\n\tvar _publicMethods = {};\n\tvar _settings = {\n\t\taddressFieldsSelector: '#shipping_address_1, #shipping_address_2, #shipping_street_name, #shipping_house_number, #shipping_city, #shipping_state, #shipping_postcode, #shipping_country',\n\t\tupdateWaitTime: 500,\n\t};\n\n\n\n\n\t/**\n\t * METHODS\n\t */\n\n\n\t/**\n\t * Update the delivery options from MyParcel.\n\t */\n\tvar updateDeliveryOptions = function () {\n\t\t// Bail if MyParcelFrontend is not available\n\t\tif ( ! window.MyParcelFrontend ) return;\n\n\t\tMyParcelFrontend.updateAddress();\n\t}\n\tvar debouncedUpdateDeliveryOptions;\n\n\n\n\t/**\n\t * Handle captured `keydown` event and route to the appropriate functions.\n\t */\n\tvar handleKeyDown = function( e ) {\n\t\t// Should do nothing if the default action has been cancelled\n\t\tif ( e.defaultPrevented ) { return; }\n\n\t\t// ADDRESS FIELDS\n\t\tif ( e.target.closest( _settings.addressFieldsSelector ) ) {\n\t\t\tif ( null !== debouncedUpdateDeliveryOptions ) {\n\t\t\t\tdebouncedUpdateDeliveryOptions();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Handle captured `change` event and route to the appropriate functions.\n\t */\n\tvar handleChange = function( e ) {\n\t\t// ADDRESS FIELDS\n\t\tif ( e.target.closest( _settings.addressFieldsSelector ) ) {\n\t\t\tif ( null !== debouncedUpdateDeliveryOptions ) {\n\t\t\t\tdebouncedUpdateDeliveryOptions();\n\t\t\t}\n\t\t}\n\t}\n\n\n\n\t/**\n\t * Initialize intl phone number inputs\n\t */\n\t_publicMethods.init = function() {\n\t\tif ( _hasInitialized ) return;\n\n\t\t// Initialize debounced functions\n\t\tdebouncedUpdateDeliveryOptions = FCUtils.debounce( updateDeliveryOptions, _settings.updateWaitTime );\n\n\t\t// Add event listeners\n\t\tdocument.addEventListener( 'keydown', handleKeyDown, true );\n\t\tdocument.addEventListener( 'change', handleChange, true );\n\n\t\t// Maybe add jQuery event listeners\n\t\tif ( _hasJQuery ) {\n\t\t\t$( document.body ).on( 'updated_checkout', debouncedUpdateDeliveryOptions );\n\t\t}\n\n\t\t_hasInitialized = true;\n\t};\n\n\n\n\t//\n\t// Public APIs\n\t//\n\treturn _publicMethods;\n\n});\n"],"names":["root","factory","define","amd","exports","module","MyParcelUpdateHandler","global","this","window","updateDeliveryOptions","MyParcelFrontend","updateAddress","handleKeyDown","e","defaultPrevented","target","closest","_settings","debouncedUpdateDeliveryOptions","handleChange","$","jQuery","_hasJQuery","_hasInitialized","_publicMethods","init","FCUtils","debounce","document","addEventListener","body","on"],"mappings":"CAIA,CAAWA,EAAMC,KACO,YAAlB,OAAOC,QAAyBA,OAAOC,IAC3CD,OAAO,GAAID,EAAY,CAAC,EACM,UAAnB,OAAOG,QAClBC,OAAOD,QAAUH,EAAY,EAE7BD,EAAKM,sBAAwBL,EAAY,CAE1C,GAAoB,aAAlB,OAAOM,OAAyBA,OAASC,KAAKC,QAAUD,KAAKD,OAAQ,SAAUP,GAyBrD,SAAxBU,IAEID,OAAOE,kBAEdA,iBAAiBC,cAAc,CAChC,CAQoB,SAAhBC,EAA0BC,GAExBA,EAAEC,kBAGFD,EAAEE,OAAOC,QAASC,CAAgC,GACjD,OAASC,GACbA,EAA+B,CAGlC,CAKmB,SAAfC,EAAyBN,GAEvBA,EAAEE,OAAOC,QAASC,CAAgC,GACjD,OAASC,GACbA,EAA+B,CAGlC,CAxDA,IA2BIA,EA3BAE,EAAIC,OACJC,EAAoB,MAALF,EAEfG,EAAkB,CAAA,EAClBC,EAAiB,GACjBP,EACoB,kKADpBA,EAEa,IA+EjB,OAvBAO,EAAeC,KAAO,WAChBF,IAGLL,EAAiCQ,QAAQC,SAAUlB,EAAuBQ,CAAyB,EAGnGW,SAASC,iBAAkB,UAAWjB,EAAe,CAAA,CAAK,EAC1DgB,SAASC,iBAAkB,SAAUV,EAAc,CAAA,CAAK,EAGnDG,GACJF,EAAGQ,SAASE,IAAK,EAAEC,GAAI,mBAAoBb,CAA+B,EAG3EK,EAAkB,CAAA,EACnB,EAOOC,CAER,CAAC"}