{"version":3,"file":"../../woocommerce-myparcel/myparcel-update-handler-3112-beta-8.min.js","sources":["woocommerce-myparcel/myparcel-update-handler-3112-beta-8.js"],"sourcesContent":["/**\r\n * Handle updates of the MyParcel delivery options.\r\n */\r\n\r\n(function (root, factory) {\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\tdefine([], factory(root));\r\n\t} else if ( typeof exports === 'object' ) {\r\n\t\tmodule.exports = factory(root);\r\n\t} else {\r\n\t\troot.MyParcelUpdateHandler = factory(root);\r\n\t}\r\n})(typeof global !== 'undefined' ? global : this.window || this.global, function (root) {\r\n\r\n\t'use strict';\r\n\r\n\tvar _hasInitialized = false;\r\n\tvar _publicMethods = {};\r\n\tvar _settings = {\r\n\t\taddressFieldsSelector: '#shipping_address_1, #shipping_address_2, #shipping_street_name, #shipping_house_number, #shipping_city, #shipping_state, #shipping_postcode, #shipping_country',\r\n\t\tupdateWaitTime: 500,\r\n\t};\r\n\r\n\r\n\r\n\r\n\t/**\r\n\t * METHODS\r\n\t */\r\n\r\n\r\n\t/**\r\n\t * Update the delivery options from MyParcel.\r\n\t */\r\n\tvar updateDeliveryOptions = function () {\r\n\t\t// Bail if MyParcelFrontend is not available\r\n\t\tif ( ! window.MyParcelFrontend ) return;\r\n\r\n\t\tMyParcelFrontend.updateAddress();\r\n\t}\r\n\tvar debouncedUpdateDeliveryOptions;\r\n\r\n\r\n\r\n\t/**\r\n\t * Handle captured `keydown` event and route to the appropriate functions.\r\n\t */\r\n\tvar handleKeyDown = function( e ) {\r\n\t\t// Should do nothing if the default action has been cancelled\r\n\t\tif ( e.defaultPrevented ) { return; }\r\n\r\n\t\t// ADDRESS FIELDS\r\n\t\tif ( e.target.closest( _settings.addressFieldsSelector ) ) {\r\n\t\t\tif ( null !== debouncedUpdateDeliveryOptions ) {\r\n\t\t\t\tdebouncedUpdateDeliveryOptions();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Handle captured `change` event and route to the appropriate functions.\r\n\t */\r\n\tvar handleChange = function( e ) {\r\n\t\t// ADDRESS FIELDS\r\n\t\tif ( e.target.closest( _settings.addressFieldsSelector ) ) {\r\n\t\t\tif ( null !== debouncedUpdateDeliveryOptions ) {\r\n\t\t\t\tdebouncedUpdateDeliveryOptions();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * Initialize intl phone number inputs\r\n\t */\r\n\t_publicMethods.init = function() {\r\n\t\tif ( _hasInitialized ) return;\r\n\r\n\t\t// Initialize debounced functions\r\n\t\tdebouncedUpdateDeliveryOptions = FCUtils.debounce( updateDeliveryOptions, _settings.updateWaitTime );\r\n\r\n\t\t// Add event listeners\r\n\t\tdocument.addEventListener( 'keydown', handleKeyDown, true );\r\n\t\tdocument.addEventListener( 'change', handleChange, true );\r\n\r\n\t\t// Maybe add jQuery event listeners\r\n\t\tif ( _hasJQuery ) {\r\n\t\t\t$( document.body ).on( 'updated_checkout', debouncedUpdateDeliveryOptions );\r\n\t\t}\r\n\r\n\t\t_hasInitialized = true;\r\n\t};\r\n\r\n\r\n\r\n\t//\r\n\t// Public APIs\r\n\t//\r\n\treturn _publicMethods;\r\n\r\n});\r\n"],"names":["root","factory","define","amd","exports","module","MyParcelUpdateHandler","global","this","window","updateDeliveryOptions","MyParcelFrontend","updateAddress","handleKeyDown","e","defaultPrevented","target","closest","_settings","debouncedUpdateDeliveryOptions","handleChange","_hasInitialized","_publicMethods","init","FCUtils","debounce","document","addEventListener","_hasJQuery","$","body","on"],"mappings":"AAIA,CAAA,SAAWA,EAAMC,GACO,YAAlB,OAAOC,QAAyBA,OAAOC,IAC3CD,OAAO,GAAID,EAAY,CAAC,EACM,UAAnB,OAAOG,QAClBC,OAAOD,QAAUH,EAAY,EAE7BD,EAAKM,sBAAwBL,EAAY,CAE1C,EAAoB,aAAlB,OAAOM,OAAyBA,OAASC,KAAKC,QAAUD,KAAKD,OAAQ,SAAUP,GAEjF,aAoB4B,SAAxBU,IAEID,OAAOE,kBAEdA,iBAAiBC,cAAc,CAChC,CAQoB,SAAhBC,EAA0BC,GAExBA,EAAEC,kBAGFD,EAAEE,OAAOC,QAASC,CAAgC,GACjD,OAASC,GACbA,EAA+B,CAGlC,CAKmB,SAAfC,EAAyBN,GAEvBA,EAAEE,OAAOC,QAASC,CAAgC,GACjD,OAASC,GACbA,EAA+B,CAGlC,CArDA,IAwBIA,EAxBAE,EAAkB,CAAA,EAClBC,EAAiB,GACjBJ,EACoB,kKADpBA,EAEa,IA+EjB,OAvBAI,EAAeC,KAAO,WAChBF,IAGLF,EAAiCK,QAAQC,SAAUf,EAAuBQ,CAAyB,EAGnGQ,SAASC,iBAAkB,UAAWd,EAAe,CAAA,CAAK,EAC1Da,SAASC,iBAAkB,SAAUP,EAAc,CAAA,CAAK,EAGnDQ,YACJC,EAAGH,SAASI,IAAK,EAAEC,GAAI,mBAAoBZ,CAA+B,EAG3EE,EAAkB,CAAA,EACnB,EAOOC,CAER,CAAC"}