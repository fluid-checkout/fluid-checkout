jQuery(document).ready(function(o){function e(){var e=o('form[name="checkout"]').find("p.form-row input, p.form-row textarea");e.length&&o.each(e,function(){var e=o(this),t=e.data("tooltip");e.closest("p.form-row");void 0!==t&&""!=t&&void 0!==o.fn.qtip&&e.qtip({content:{text:t},show:{event:"focus"},style:{classes:"ywccp_tooltip"},position:{my:"bottom center",at:"top center",viewport:o(window)}})})}function t(){var e=o(".ywccp-multiselect-type, select.select"),t=o(".ywccp-datepicker-type"),i=o(".ywccp-timepicker-type");e&&void 0!==o.fn.select2&&o.each(e,function(){var e=o(this),t=e.attr("id");o("#s2id_"+t).length||e.select2({placeholder:e.data("placeholder")})}),void 0!==o.fn.datepicker&&t&&o.each(t,function(){o(this).datepicker({dateFormat:o(this).data("format")||"dd-mm-yy",changeYear:ywccp_front.datepicker_change_year,changeMonth:ywccp_front.datepicker_change_month,yearRange:ywccp_front.datepicker_year_range,minDate:ywccp_front.datepicker_min_date,maxDate:ywccp_front.datepicker_max_date,beforeShow:function(){setTimeout(function(e){o("#ui-datepicker-div").wrap('<div class="yith_datepicker"></div>').css("z-index",99999999999999),o("#ui-datepicker-div").show()},0)},beforeShowDay:function(e){return ywccp_front.datepicker_allowed_days.includes(e.getDay())?[!0]:[!1]},onClose:function(){o("#ui-datepicker-div").hide(),o("#ui-datepicker-div").unwrap()}})}),void 0!==o.fn.timepicki&&i&&o.each(i,function(){o(this).timepicki({reset:!0,disable_keyboard_mobile:!0,show_meridian:ywccp_front.time_format,max_hour_value:ywccp_front.time_format?"12":"23",min_hour_value:ywccp_front.time_format?"1":"0",overflow_minutes:!0,increase_direction:"up"})})}e(),o(document.body).on("updated_checkout",e);t(),o(document.body).on("updated_checkout",t),o(document).on("click",".reset_time",function(e){e.preventDefault()});var i,n=function(){return jQuery.parseJSON(ywccp_front.conditions)},u=function(e){return n()[e]},a=function(e){var t=o("*[name="+e+"]");return 1<t.length?r(t):"checkbox"==t.attr("type")?t.is(":checked"):("radio"==t.attr("type")?o("#"+e+":checked"):t).val()},r=function(t){var i=null;return t.each(function(e){if("radio"==t[e].type&&t[e].checked)return i=t[e].value,!1}),i},l=function(e){var t=e.input_name,i=e.type,n=e.value,o=a(t),r=!1;switch(i){case"is-set":o&&(r=!0);break;case"is-empty":o||(r=!0);break;case"has-value":var c=n.split(",");jQuery.each(c,function(e,t){String(o)==String(t)&&(r=!0)});break;case"has-not-value":o!=n&&(r=!0)}return r},c=(o(ywccp_front.form_checkout_selector).on("change","input, select",function(e){c(e)}),o(ywccp_front.form_checkout_selector).on("submit",function(e){c(e)}),o(document.body).on("yith_wccp_i18n_locale_done",function(e){c(e)}),o(document.body).on("updated_checkout",function(e){c(e)}),function(n){o(ywccp_front.form_checkout_selector).find("input, textarea, select, h3[data-name]").each(function(){var e=o(this).attr("name")||o(this).attr("data-name"),t=o(this).closest(".form-row").length?o(this).closest(".form-row"):o(this),e=(e=>{var t=u(e);if(void 0===t||0===t.length)return null;for(var i=t.length,n={show:null,hide:null,set_required:null},o=0;o<i;o++){var r=t[o],c=l(r),a=r.action,d=r.required,s=r.wc_required;"products"!=r.input_name?"show"===a&&"no"!=n.show?c?(1!=d&&!s||(n.set_required="yes"),n.show="yes",n.hide="no"):(n.show="no",n.set_required="no",n.hide="yes"):"hide"===a&&"no"!=n.hide&&(c?(n.hide="yes",n.show="no"):(n.hide="no",n.show="yes")):1!=d&&!s||(n.set_required="yes",n.show="yes")}return n})(e),i=!1;null!=e&&("yes"==e.show?(t.show(),"yes"==e.set_required&&(i=!0)):"yes"==e.hide&&t.hide(),d(n.type,t,i))})}),d=function(e,t,i){1==i?(t.addClass("validate-required"),0==t.find("label").find("abbr.required").length&&(t.find("label").find(".optional").remove(),0===t.find("label").find("abbr.required, span.required").length)&&t.find("label").append('<abbr class="required" title="required">*</abbr>')):(t.removeClass("validate-required woocommerce-validated woocommerce-invalid woocommerce-invalid-required-field"),0==t.find("label").find(".optional").length&&(t.find("label").append('<span class="optional">(optional)</span>'),t.find("abbr.required").remove()))};o(ywccp_front.form_checkout_selector).find("input, select").each(function(){var e=ywccp_front.field_ids_to_exclude,t=o(this).attr("id");o.isArray(e)&&o.inArray(t,e,0)<0&&o(this).trigger("change")}),ywccp_front.ship_different_address_old_behaviour&&(i=o("#ship-to-different-address-checkbox").is(":checked"),o(".woocommerce-shipping-fields__field-wrapper").hide(),o(document.body).on("init_checkout",function(){o("#ship-to-different-address-checkbox").prop("checked",i).change(),o(".woocommerce-shipping-fields__field-wrapper").toggle(!0)}))});