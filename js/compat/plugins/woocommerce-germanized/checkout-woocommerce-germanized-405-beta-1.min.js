!function(e,o){"function"==typeof define&&define.amd?define([],o()):"object"==typeof exports?module.exports=o():e.CheckoutWooCommerceGermanized=o()}("undefined"!=typeof global?global:this.window||this.global,function(e){function o(){if(void 0!==window.shiptastic.shipments_pickup_locations.params.i18n_managed_by_pickup_location){var e=s();if(e&&e.length)if(document.querySelector(r.currentPickupLocationInputSelector).value)for(var o=0;o<e.length;o++){var t,i,c=document.querySelector(e[o]);c&&((t=c.closest(r.fieldRowSelector))?(t.classList.add(r.managedByPickupLocationClass),t.querySelector("."+r.locationNoticeClass)||(t=t.querySelector("label"))&&((i=document.createElement("span")).className=r.locationNoticeClass,i.innerHTML=window.shiptastic.shipments_pickup_locations.params.i18n_managed_by_pickup_location,t.parentNode.insertBefore(i,t.nextSibling))):c.classList.add(r.managedByPickupLocationClass))}}}function t(e){if(e.target.matches(r.removePickupLocationButtonSelector)){var o=s();if(o&&o.length)for(var t=0;t<o.length;t++){var i=document.querySelector(o[t]);i&&(i=i.closest(r.fieldContainerSelector))&&a.blockUI(i)}c(document.body).trigger("update_checkout")}}var c=jQuery,i=null!=c,n=!1,a={},r={uiProcessingClass:"processing",managedByPickupLocationClass:"wc-shiptastic-managed-by-pickup-location",locationNoticeClass:"wc-shiptastic-managed-by-pickup-location-notice",removePickupLocationButtonSelector:".pickup-location-remove",currentPickupLocationInputSelector:"#current_pickup_location",fieldContainerSelector:".woocommerce-input-wrapper",fieldRowSelector:".form-row",currentLocationAttribute:"data-current-location"},s=function(){if(void 0!==window.shiptastic.shipments_pickup_locations.getPickupLocation){var e=document.querySelector(r.currentPickupLocationInputSelector);if(e.value){for(var e=window.shiptastic.shipments_pickup_locations.getPickupLocation(e.value),o=Object.keys(e.address_replacements),t=[],i=0;i<o.length;i++)t.push("#shipping_"+o[i]);return t}}};return a.blockUI=function(e){i&&e&&c(e).addClass(r.uiProcessingClass).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},a.init=function(e){n||(r=FCUtils.extendObject(r,e),window.addEventListener("click",t,!0),i&&c(document.body).on("updated_checkout",o),n=!0)},a});