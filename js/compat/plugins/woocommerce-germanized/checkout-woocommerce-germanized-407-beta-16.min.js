((e,t)=>{"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutWooCommerceGermanized=t()})("undefined"!=typeof global?global:this.window||this.global,function(e){function t(){if(void 0!==window.shiptastic.shipments_pickup_locations.params.i18n_managed_by_pickup_location){var e=p();if(e&&e.length)if(document.querySelector(u.currentPickupLocationInputSelector).value)for(var t=0;t<e.length;t++){var o,i,c=document.querySelector(e[t]);c&&((o=c.closest(u.fieldRowSelector))?(o.classList.add(u.managedByPickupLocationClass),o.querySelector("."+u.locationNoticeClass)||(o=o.querySelector("label"))&&((i=document.createElement("span")).className=u.locationNoticeClass,i.innerHTML=window.shiptastic.shipments_pickup_locations.params.i18n_managed_by_pickup_location,o.parentNode.insertBefore(i,o.nextSibling))):c.classList.add(u.managedByPickupLocationClass))}}}function c(){r(document.body).trigger("update_checkout")}function o(e){if(e.target.matches(u.removePickupLocationButtonSelector)){var t=p();if(t&&t.length)for(var o=0;o<t.length;o++){var i=document.querySelector(t[o]);i&&(i=i.closest(u.fieldContainerSelector))&&s.blockUI(i)}c()}}function i(e){e.target.matches(u.customerNumberFieldSelector)&&c()}function n(e){(e.target.matches(u.prefferedDeliveryTypeFieldSelector)||e.target.matches(u.prefferedDeliveryLocationFieldSelector))&&c()}var r=jQuery,a=null!=r,l=!1,s={},u={uiProcessingClass:"processing",managedByPickupLocationClass:"wc-shiptastic-managed-by-pickup-location",locationNoticeClass:"wc-shiptastic-managed-by-pickup-location-notice",removePickupLocationButtonSelector:".pickup-location-remove",currentPickupLocationInputSelector:"#current_pickup_location",customerNumberFieldSelector:"#pickup_location_customer_number",fieldContainerSelector:".woocommerce-input-wrapper",fieldRowSelector:".form-row",prefferedDeliveryTypeFieldSelector:".dhl-preferred-service-content .dhl-preferred-location-types input",prefferedDeliveryLocationFieldSelector:".dhl-preferred-service-data > input",shippingAddressPrefix:"#shipping_"},p=function(){if(void 0!==window.shiptastic.shipments_pickup_locations.getPickupLocation){var e=document.querySelector(u.currentPickupLocationInputSelector);if(e.value){for(var e=window.shiptastic.shipments_pickup_locations.getPickupLocation(e.value),t=Object.keys(e.address_replacements),o=[],i=0;i<t.length;i++)o.push(u.shippingAddressPrefix+t[i]);return o}}};return s.blockUI=function(e){a&&e&&r(e).addClass(u.uiProcessingClass).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},s.init=function(e){l||(u=FCUtils.extendObject(u,e),document.addEventListener("click",o,!0),document.addEventListener("keydown",i),document.addEventListener("change",n),a&&r(document.body).on("updated_checkout",t),l=!0)},s});