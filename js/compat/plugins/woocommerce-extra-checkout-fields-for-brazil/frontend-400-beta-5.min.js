jQuery(function(s){let e={init(){"0"!==bmwPublicParams.person_type&&e.person_type_fields(),"yes"===bmwPublicParams.maskedinput&&(s(document.body).on("change","#billing_country",function(){"BR"===s(this).val()?e.maskBilling():e.unmaskBilling()}),s(document.body).on("change","#shipping_country",function(){"BR"===s(this).val()?e.maskShipping():e.unmaskShipping()}),"BR"===s("#billing_country").val()&&e.maskBilling(),"BR"===s("#shipping_country").val()&&e.maskShipping(),e.maskGeneral()),s().select2&&s(".wc-ecfb-select").select2()},person_type_fields(){function l(e,i=!1){let l="BR";i&&(l=s("#billing_country").val()),s(".person-type-field").hide().removeClass("validate-required is-active woocommerce-validated"),s("#billing_persontype_field").show().addClass("is-active"),"1"===e&&("BR"===l?(s("#billing_cpf_field").addClass("validate-required is-active woocommerce-validated").show(),s("#billing_rg_field").addClass("validate-required is-active woocommerce-validated").show()):(s("#billing_cpf_field").show().addClass("is-active"),s("#billing_rg_field").show().addClass("is-active"))),"2"===e&&("BR"===l?(s("#billing_company_field label .optional").remove(),s("#billing_company_field").addClass("validate-required is-active woocommerce-validated").show(),s("#billing_cnpj_field").addClass("validate-required is-active woocommerce-validated").show(),s("#billing_ie_field").addClass("validate-required is-active woocommerce-validated")):(s("#billing_company_field").addClass("is-active").show(),s("#billing_cnpj_field").addClass("is-active").show(),s("#billing_ie_field").addClass("is-active"))).show(),"BR"===l&&(s(".person-type-field label .required").remove(),s(".person-type-field label").append(' <abbr class="required" title="'+bmwPublicParams.required+'">*</abbr>'))}function e(i=!1){"1"===bmwPublicParams.person_type&&(s("#billing_persontype").on("change",function(){var e=s(this).val();l(e,i)}),l("1",i))}let i,a;("no"===bmwPublicParams.only_brazil?(s(".person-type-field label .required").remove(),s(".person-type-field label").append(' <abbr class="required" title="'+bmwPublicParams.required+'">*</abbr>'),e):(i=function(){s(".person-type-field").removeClass("validate-required is-active woocommerce-validated"),s(".person-type-field label .required").remove(),e(!0),"BR"===s("#billing_country").val()?(s(".person-type-field label .required").remove(),s(".person-type-field").addClass("validate-required"),s(".person-type-field label").append(' <abbr class="required" title="'+bmwPublicParams.required+'">*</abbr>')):(s(".person-type-field").removeClass("validate-required is-active woocommerce-validated"),s(".person-type-field label .required").remove())},s("#billing_country").on("change",i),i))(),"1"===bmwPublicParams.person_type&&(a=function(){var e=s("#billing_persontype").val();s("#billing_cpf_field").hide(),s("#billing_rg_field").hide(),s("#billing_company_field").hide(),s("#billing_cnpj_field").hide(),s("#billing_ie_field").hide(),"1"===e&&(s("#billing_cpf_field").show(),s("#billing_rg_field").show()),"2"===e&&(s("#billing_company_field").show(),s("#billing_cnpj_field").show(),s("#billing_ie_field").show())},s("#billing_persontype").on("change",a),a())},maskBilling(){"yes"===bmwPublicParams.maskedinput_phone&&e.maskPhone("#billing_phone, #billing_cellphone"),s("#billing_birthdate").mask("00/00/0000"),s("#billing_postcode").mask("00000-000"),s("#billing_phone, #billing_cellphone, #billing_birthdate, #billing_postcode").attr("type","tel")},unmaskBilling(){s("#billing_phone, #billing_cellphone, #billing_birthdate, #billing_postcode").unmask().attr("type","text")},maskShipping(){"yes"===bmwPublicParams.maskedinput_phone&&e.maskPhone("#shipping_phone"),s("#shipping_postcode").mask("00000-000").attr("type","tel")},unmaskShipping(){s("#shipping_postcode").unmask().attr("type","text"),s("#shipping_phone").unmask()},maskGeneral(){s("#billing_cpf, #credit-card-cpf").mask("000.000.000-00"),s("#billing_cnpj").mask("00.000.000/0000-00"),e.maskPhone("#credit-card-phone")},maskPhone(e){function n(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"}let i=s(e),l={onKeyPress(e,i,l,a){l.mask(n.apply({},arguments),a)}};i.mask(n,l)}};e.init(),s(document.body).on("updated_checkout",e.init)});