((e,t)=>{"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.PayPlusCheckout=t()})("undefined"!=typeof global?global:this.window||this.global,function(e){var r=jQuery,t=null!=r,a=!1,p={};function o(e){r("#pp_iframe").length&&(r("#pp_iframe").is(":visible")||!0===e)&&r("#pp_iframe").fadeOut(()=>{r(".payplus-option-description-area").show(),r("#place_order, .fc-place-order-button").prop("disabled",!1).removeClass("disabled")})}function n(){var e;payplus_script_checkout.payplus_import_applepay_script&&(e=>{for(var t=document.getElementsByTagName("script"),a=t.length;a--;)if(t[a].src==e)return;return 1})(payplus_script_checkout.payplus_import_applepay_script)&&((e=document.createElement("script")).src=payplus_script_checkout.payplus_import_applepay_script,document.body.append(e))}function s(e,t,a){var p=document.createElement("iframe");return p.id="pp_iframe",p.name="payplus-iframe",p.src=e,p.height=a,p.width=t,p.setAttribute("style","border:0px"),p.setAttribute("allowpaymentrequest","allowpaymentrequest"),p}function i(e,t,a){if(t.payplus_iframe&&"success"===t.result)return a.$checkout_form.removeClass("processing").unblock(),"samePageIframe"==t.viewMode?(a=t.payplus_iframe.data.payment_page_link,r(".alertify").remove(),(o=new URL(window.location.href)).searchParams.set("payplus-iframe","1"),window.history.pushState({},"",o),i=(o=document.querySelector(".pp_iframe")).getAttribute("data-height"),o.innerHTML="",o.append(s(a,"100%",i)),r("#place_order, .fc-place-order-button").prop("disabled",!0).addClass("disabled"),payplus_script_checkout.payplus_mobile&&r("html, body").animate({scrollTop:r(".place-order").offset().top}),n()):"popupIframe"==t.viewMode&&(o=t.payplus_iframe.data.payment_page_link,p=700,window.innerWidth<568&&(p="100%"),alertify.popupIframePaymentPage||alertify.dialog("popupIframePaymentPage",function(){return{main:function(e){this.message=s(e,"100%",p),n()},setup:function(){return{options:{autoReset:!1,overflow:!1,maximizable:!1,movable:!1,frameless:!0,transition:"fade"},focus:{element:0}}},prepare:function(){this.setContent(this.message)},hooks:{onshow:function(){this.elements.dialog.style.maxWidth="100%",this.elements.dialog.style.width="1050px",this.elements.dialog.style.height="100%",this.elements.content.style.top="25px"}}}}),alertify.popupIframePaymentPage(o)),!1;var p,o,i}return p.init=function(){a||t&&(r(document.body).on("click change",'input[name="payment_method"]',o),r(document.body).on("fc_checkout_request_place_order_success",i),r(window).on("popstate",function(){o(!1)}),a=!0)},p});