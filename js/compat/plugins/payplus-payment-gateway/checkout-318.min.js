!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.PayPlusCheckout=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var n=jQuery,t=null!=n,a=!1,o={};function p(e){n("#pp_iframe").length&&(n("#pp_iframe").is(":visible")||!0===e)&&n("#pp_iframe").fadeOut(()=>{n(".payplus-option-description-area").show(),n("#place_order, .fc-place-order-button").prop("disabled",!1).removeClass("disabled")})}function r(){var e;payplus_script_checkout.payplus_import_applepay_script&&function(e){for(var t=document.getElementsByTagName("script"),a=t.length;a--;)if(t[a].src==e)return;return 1}(payplus_script_checkout.payplus_import_applepay_script)&&((e=document.createElement("script")).src=payplus_script_checkout.payplus_import_applepay_script,document.body.append(e))}function s(e,t,a){var o=document.createElement("iframe");return o.id="pp_iframe",o.name="payplus-iframe",o.src=e,o.height=a,o.width=t,o.setAttribute("style","border:0px"),o.setAttribute("allowpaymentrequest","allowpaymentrequest"),o}function i(e,t,a){if(t.payplus_iframe&&"success"===t.result)return a.$checkout_form.removeClass("processing").unblock(),"samePageIframe"==t.viewMode?(a=t.payplus_iframe.data.payment_page_link,n(".alertify").remove(),(p=new URL(window.location.href)).searchParams.set("payplus-iframe","1"),window.history.pushState({},"",p),i=(p=document.querySelector(".pp_iframe")).getAttribute("data-height"),p.innerHTML="",p.append(s(a,"100%",i)),n("#place_order, .fc-place-order-button").prop("disabled",!0).addClass("disabled"),payplus_script_checkout.payplus_mobile&&n("html, body").animate({scrollTop:n(".place-order").offset().top}),r()):"popupIframe"==t.viewMode&&(p=t.payplus_iframe.data.payment_page_link,o=700,window.innerWidth<568&&(o="100%"),alertify.popupIframePaymentPage||alertify.dialog("popupIframePaymentPage",function(){return{main:function(e){this.message=s(e,"100%",o),r()},setup:function(){return{options:{autoReset:!1,overflow:!1,maximizable:!1,movable:!1,frameless:!0,transition:"fade"},focus:{element:0}}},prepare:function(){this.setContent(this.message)},hooks:{onshow:function(){this.elements.dialog.style.maxWidth="100%",this.elements.dialog.style.width="1050px",this.elements.dialog.style.height="100%",this.elements.content.style.top="25px"}}}}),alertify.popupIframePaymentPage(p)),!1;var o,p,i}return o.init=function(){a||t&&(n(document.body).on("click change",'input[name="payment_method"]',p),n(document.body).on("fc_checkout_request_place_order_success",i),n(window).on("popstate",function(){p(!1)}),a=!0)},o});
//# sourceMappingURL=../maps/payplus-payment-gateway/checkout-318.min.js.map
