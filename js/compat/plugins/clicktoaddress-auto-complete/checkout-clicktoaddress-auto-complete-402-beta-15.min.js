((e,c)=>{"function"==typeof define&&define.amd?define([],c()):"object"==typeof exports?module.exports=c():e.CheckoutClickToAddressAutoComplete=c()})("undefined"!=typeof global?global:this.window||this.global,function(e){function c(){void 0!==window.cc_c2a_functions&&window.cc_c2a_config.postcode.enabled&&"function"==typeof window.cc_c2a_functions.postcode.add_postcode&&window.cc_c2a_functions.postcode.add_postcode()}function o(){var e=document.querySelector(s.initIndicatorSelector),c=document.querySelector(s.searchAddressInputSelector);void 0!==window.cc_c2a_functions&&window.cc_c2a_config.autocomplete.enabled&&"function"==typeof window.cc_c2a_functions.autocomplete.add_autocomplete&&(e||(window.cc_c2a_functions.autocomplete.add_autocomplete(),c&&"none"!==c.closest("p").style.display&&(window.cc_c2a_fields_visible=0)),window.cc_c2a_config.autocomplete.hide_fields)&&!window.cc_c2a_fields_visible&&a()}function t(e){if(e.target.matches(s.manualAddressButtonSelector)){e.preventDefault();var c=e.target,o=document.querySelector(s.searchAddressButtonSelector),t=document.querySelector(s.searchAddressInputSelector),n=querySelectorAll(s.addressFormSelector);if(void 0!==window.cc_c2a_functions&&(c.style.display="none",o&&(o.style.display="block"),t&&(t.closest("p").style.display="none"),"function"==typeof window.cc_c2a_functions.autocomplete.show_fields))for(var d=0;d<n.length;d++)window.cc_c2a_functions.autocomplete.show_fields(n[d],!1)}e.target.matches(s.searchAddressButtonSelector)&&(e.preventDefault(),c=e.target,o=document.querySelector(s.manualAddressButtonSelector),t=document.querySelector(s.searchAddressInputSelector),window.cc_c2a_fields_visible=0,c.style.display="none",o&&(o.style.display="block"),t&&(t.closest("p").style.display="block"),a())}var n=jQuery,d=null!=n,l=!1,i={},s={fieldsToHideSelector:'[cc-c2a-hide="1"]',manualAddressButtonSelector:".cc_c2a_manual",searchAddressButtonSelector:".cc_c2a_hide",searchAddressInputSelector:".cc_c2a_search_input",addressFormSelector:".woocommerce-billing-fields, .woocommerce-shipping-fields",initIndicatorSelector:"#cc_c2a"},a=function(){for(var e=document.querySelectorAll(s.fieldsToHideSelector),c=0;c<e.length;c++)e[c].style.display="none"};return i.init=function(e){l||(document.addEventListener("click",t,!0),d&&(n(document.body).on("updated_checkout",c),n(document.body).on("updated_checkout",o)),l=!0)},i});