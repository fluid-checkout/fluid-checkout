!function(e,i){"function"==typeof define&&define.amd?define([],i()):"object"==typeof exports?module.exports=i():e.CheckoutValidationWooCommerceEUVatField=i()}("undefined"!=typeof global?global:this.window||this.global,function(e){function i(e,i,a){return!!e.matches(m.vatFieldSelector)}function a(e,i,a){return!!e.matches(m.sdiFieldSelector)}function t(e,i,a){return!!e.matches(m.codiceFiscaleFieldSelector)}function l(e,i,a){return!!e.matches(m.nifNieFieldSelector)}function o(e,i,a){var t=document.querySelector(m.vatValidationFieldSelector);return e.value&&t&&""===t.value?{valid:!1,message:m.validationMessages.vat_not_valid}:{valid:!0}}function n(e,i,a){var t=document.querySelector(m.vatUniquenessFieldSelector);return e.value&&t&&""===t.value?{valid:!1,message:m.validationMessages.vat_not_unique}:{valid:!0}}function d(e,i,a){var t=document.querySelector(m.sdiValidationFieldSelector),l=document.querySelector(m.vatFieldSelector);return e.value&&l&&""===l.value?{valid:!1,message:m.validationMessages.vat_empty}:e.value&&t&&""===t.value?{valid:!1,message:m.validationMessages.sdi_not_valid}:{valid:!0}}function c(e,i,a){var t=document.querySelector(m.codiceFiscaleValidationFieldSelector);return e.value&&t&&""===t.value?{valid:!1,message:m.validationMessages.codice_fiscale_not_valid}:{valid:!0}}function r(e,i,a){var t=document.querySelector(m.nifNieValidationFieldSelector);return e.value&&t&&""===t.value?{valid:!1,message:m.validationMessages.nif_nie_not_valid}:{valid:!0}}function u(){var e=[document.querySelector(m.vatFieldSelector),document.querySelector(m.sdiFieldSelector),document.querySelector(m.codiceFiscaleFieldSelector),document.querySelector(m.nifNieFieldSelector)];if(window.CheckoutValidation)for(var i=0;i<e.length;i++){var a=e[i];a&&CheckoutValidation.validateField(a,"change")}}var v=jQuery,s=null!=v,f=!1,_={},m={vatFieldSelector:"#billing_eu_vat",sdiFieldSelector:"#billing_it_sid_pec",codiceFiscaleFieldSelector:"#billing_it_codice_fiscale",nifNieFieldSelector:"#billing_es_nif_nie",vatValidationFieldSelector:".woocommerce-eu-vat-field-is-valid",vatUniquenessFieldSelector:".woocommerce-eu-vat-field-is-unique",sdiValidationFieldSelector:".woocommerce-eu-vat-field-is-cdi-field-valid",codiceFiscaleValidationFieldSelector:".woocommerce-eu-vat-field-is-codice-fiscale-field-valid",nifNieValidationFieldSelector:".woocommerce-eu-vat-field-is-nif-nie-field-valid",validationMessages:{vat_not_valid:"Vat number is invalid",vat_not_unique:"Vat number has been already associated to another user.",sdi_not_valid:"SDI/Pec has an invalid format. Please check!",vat_empty:"Vat field cannot be empty. Enter a valid vat or remove the SDI/Pec field content.",codice_fiscale_not_valid:"Codice Fiscale has an invalid format.",nif_nie_not_valid:"NIF / NIE code has an invalid format. Please check!"}};return _.init=function(e){f||window.CheckoutValidation&&(m=FCUtils.extendObject(m,e),CheckoutValidation.registerValidationType("vat_invalid","vat-invalid",i,o),CheckoutValidation.registerValidationType("vat_not_unique","vat-not-unique",i,n),CheckoutValidation.registerValidationType("sdi_invalid","sdi-invalid",a,d),CheckoutValidation.registerValidationType("codice_fiscale_invalid","codice-fiscale-invalid",t,c),CheckoutValidation.registerValidationType("nif_nie_invalid","nif-nie-invalid",l,r),s&&v(document).on("updated_checkout",u),f=!0)},_});