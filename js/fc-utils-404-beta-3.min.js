((e,t)=>{"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.FCUtils=t()})("undefined"!=typeof global?global:this.window||this.global,function(e){function t(e){!0!==e&&(e=!1);var t=document.activeElement,n=t.closest(o);return e&&n&&(e=n.getAttribute("id").replace("-results","-container"),t=document.getElementById(e)),(n=t.closest(d))&&n.querySelector(f)&&(t&&t.blur(),t=n),t}var r={},n='a[role="button"], a[href], button:not([disabled]), input:not([disabled]):not([type="hidden"]), textarea:not([disabled]), select:not([disabled]), details, summary, iframe, object, embed, [contenteditable] [tabindex]:not([tabindex="-1"])',c=".fc-checkout-header",i="smooth",l=0,s=50,u={mobile:{minWidth:0,maxWidth:549},phablet:{minWidth:550,maxWidth:749},tablet:{minWidth:750,maxWidth:999},desktop:{minWidth:1e3,maxWidth:1279},desktopMedium:{minWidth:1280,maxWidth:1499},desktopLarge:{minWidth:1500,maxWidth:1999},desktopExtraLarge:{minWidth:2e3,maxWidth:1e6}},d=".form-row.fc-select2-field",a='.select2-selection, input[type="text"]',o=".select2-results__options",f=".select2-selection__rendered",m=".form-row.fc-select2-field",w="keeping-closed";r.keyboardKeys={ESC:"Escape",ENTER:"Enter",SPACE:" ",TAB:"Tab",CAPS:"CapsLock",SHIFT:"Shift",FUNCTION:"Fn",CONTROL:"Control",COMMAND_OR_WINDOWS:"Meta",ALT:"Alt",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown"},r.animationEndEvent=window.whichAnimationEnd?window.whichAnimationEnd():"animationend";return r.extendObject=function(){var e={},t=!1,n=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);n<arguments.length;n++){o=i=void 0;var o,i=arguments[n];for(o in i)i.hasOwnProperty(o)&&(t&&"[object Object]"===Object.prototype.toString.call(i[o])?e[o]=r.extendObject(e[o],i[o]):e[o]=i[o])}return e},r.debounce=function(o,i,r){var l;return function(){var e=this,t=arguments,n=r&&!l;clearTimeout(l),l=setTimeout(function(){l=null,r||o.apply(e,t)},i),n&&o.apply(e,t)}},r.throttle=function(o,i,r){var l,c;return i=i||250,function(){var e=r||this,t=+new Date,n=arguments;l&&t<l+i?(clearTimeout(c),c=setTimeout(function(){l=t,o.apply(e,n)},i)):(l=t,o.apply(e,n))}},r.isElementVisible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},r.getCurrentBreakpoints=function(){for(var e=window.innerWidth,t=Object.entries(u),n=[],o=0;o<t.length;o++){var i=t[o][0];t[o][1].minWidth<=e&&n.push(i)}return n},r.isCurrentBreakpointOrSmaller=function(e){var t=r.getCurrentBreakpoints(),n=t.indexOf(e),e=t.length-1;if(n!=e)for(var o=0;o<t.length;o++)if(-1!==n&&n<o)return!1;return!0},r.getFocusableElements=function(e){return(e=e||document).querySelectorAll(n)},r.setCurrentFocusedElementGlobalVariables=function(){var e;window.fcCurrentFocusedElement=t(),window.fcCurrentFocusedElementValue=window.fcCurrentFocusedElement.value,window.fcCurrentFocusedElementReopenDropdown=!1,fcCurrentFocusedElement.id.includes("-ts-control")&&(e=(e=fcCurrentFocusedElement.closest(m))&&e.querySelector("select"))&&e.tomselect&&e.tomselect.isOpen&&(window.fcCurrentFocusedElementReopenDropdown=!0)},r.maybeSetCurrentFocusedElementGlobalVariablesRelativeSelect2=function(){var e=t(!0);e&&(window.fcCurrentFocusedElement=e,window.fcCurrentFocusedElementValue=window.fcCurrentFocusedElement.value)},r.unsetCurrentFocusedElementGlobalVariables=function(){window.fcCurrentFocusedElement=null,window.fcCurrentFocusedElementValue=null},r.maybeRefocusElement=function(i,r){null!=i&&document.body!==i&&requestAnimationFrame(function(){var e,t,n,o;i.closest(d)?e=(n=i.closest(d)).querySelector(a):i.id?e=document.getElementById(i.id):i.getAttribute("name")&&(t=i.getAttribute("name"),e=document.querySelector('[name="'+t+'"]')),e&&(o=(n=e.closest(m))&&n.querySelector("select"),!window.fcCurrentFocusedElementReopenDropdown&&n&&n.classList.add(w),e.focus(),null!=r&&r!==e.value&&(e.value=r),setTimeout(function(){e&&"selectionStart"in e&&"selectionEnd"in e&&void 0!==e.selectionStart&&void 0!==e.selectionEnd&&null!==e.selectionStart&&null!==e.selectionEnd&&(i&&"selectionStart"in i&&"selectionEnd"in i&&void 0!==i.selectionStart&&void 0!==i.selectionEnd&&null!==i.selectionStart&&null!==i.selectionEnd?(e.selectionStart=i.selectionStart,e.selectionEnd=i.selectionEnd):e.selectionStart=e.selectionEnd=999999),!window.fcCurrentFocusedElementReopenDropdown&&e.id.includes("-ts-control")&&o&&o.tomselect&&o.tomselect.close(),n&&n.classList.remove(w)},0))})},r.getOffsetTop=function(e,t){for(var n=0;e&&(!t||t!=e);)n+=e.offsetTop,e=e.offsetParent;return n},r.getStickyElementsOffset=function(e,t){var n=0;try{var o=null!=e?document.querySelectorAll(e):[];0<o.length&&(n+=o[0].getBoundingClientRect().height)}catch(e){}if(window.StickyStates){var i=document.querySelectorAll(c);if(i&&0<i.length)for(var r=0;r<i.length;r++){var l=i[r];StickyStates.isStickyPosition(l)&&(n+=l.getBoundingClientRect().height)}}return isNaN(t)||(n+=t),n},r.scrollToElement=function(e,t,n){var o;e&&(t=r.getStickyElementsOffset(t,n),o=r.getOffsetTop(e)+-1*l+-1*t,window.setTimeout(function(){window.scrollTo({top:o,behavior:i})},s))},r});