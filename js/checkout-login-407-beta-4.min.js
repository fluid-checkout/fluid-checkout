((e,o)=>{"function"==typeof define&&define.amd?define([],o()):"object"==typeof exports?module.exports=o():e.CheckoutLogin=o()})("undefined"!=typeof global?global:this.window||this.global,function(e){function o(e){var o,r,c;e.target.closest(t.loginButtonSelector)&&(e.preventDefault(),i(),e=document.querySelector(t.loginFormSelector),o=document.querySelector(t.usernameFieldSelector),r=document.querySelector(t.passwordFieldSelector),c=document.querySelector(t.rememberMeFieldSelector),e)&&o&&r&&c&&(l.blockUI(e),e={security:t.checkoutLoginNonce,username:o.value,password:r.value,rememberme:c.checked},n.ajax({type:"POST",url:fcSettings.wcAjaxUrl.replace("%%endpoint%%","fc_checkout_login"),data:e,dataType:"json",success:function(e){e.result&&"success"===e.result?window.location.reload():e.result&&"error"===e.result&&(s(e.message),e=document.querySelector(t.loginFormSelector))&&l.unblockUI(e)}}))}var n=jQuery,r=null!=n,c=!1,l={},t={uiProcessingClass:"processing",messagesWrapperSelector:".fc-login-messages",loginFormSelector:".woocommerce-form-login",usernameFieldSelector:'.woocommerce-form-login input[name="username"]',passwordFieldSelector:'.woocommerce-form-login input[name="password"]',rememberMeFieldSelector:'.woocommerce-form-login input[name="rememberme"]',loginButtonSelector:".fc-login-button .woocommerce-form-login__submit",messagesWrapperTemplate:'<ul class="woocommerce-error"><li>###MESSAGE###</li></ul>'},s=function(e){var o;e&&(o=document.querySelector(t.messagesWrapperSelector))&&(o.innerHTML=t.messagesWrapperTemplate.replace("###MESSAGE###",e))},i=function(){var e=document.querySelector(t.messagesWrapperSelector);e&&(e.innerHTML="")};return l.blockUI=function(e){r&&e&&n(e).addClass(t.uiProcessingClass).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},l.unblockUI=function(e){r&&n(e).removeClass(t.uiProcessingClass).unblock()},l.init=function(e){c||(t=FCUtils.extendObject(t,e),window.addEventListener("click",o,!0),c=!0)},l});