jQuery(function(d){if("undefined"==typeof wc_country_select_params)return!1;var p=window.TomSelect&&window.fcSettings&&fcSettings.replace_enhanced_dropdown&&"yes"===fcSettings.replace_enhanced_dropdown,e=(p&&((e=function(){for(var e=document.querySelectorAll(".fc-select2-field select"),t=0;t<e.length;t++){var n=e[t],o=n.value;n.tomselect&&(console.log("Skipping at event handler: ",n.getAttribute("id")),n.tomselect.destroy()),new TomSelect(n,{create:!1,openOnFocus:!0,selectOnTab:!0,diacritics:!0}),n.tomselect.setValue(o,!0)}})(),d(document.body).on("country_to_state_changed",e),d(document.body).on("updated_checkout",e),d(document.body).on("wc_fragments_refreshed",e)),d().selectWoo&&!p&&((e=function(){requestAnimationFrame(function(){d("select.country_select, select.state_select").each(function(){var n=d(this),e=n.attr("id"),t=document.querySelector(".select2-container--open"),o=null!=t&&null!=t.querySelector("#select2-"+e+"-results"),t=(n.off("select2:select"),n.parent().find(".select2-container").remove(),d.extend({placeholder:n.attr("data-placeholder")||n.attr("placeholder")||"",label:n.attr("data-label")||null,width:"100%"},{language:{errorLoading:function(){return wc_country_select_params.i18n_searching},inputTooLong:function(e){e=e.input.length-e.maximum;return 1==e?wc_country_select_params.i18n_input_too_long_1:wc_country_select_params.i18n_input_too_long_n.replace("%qty%",e)},inputTooShort:function(e){e=e.minimum-e.input.length;return 1==e?wc_country_select_params.i18n_input_too_short_1:wc_country_select_params.i18n_input_too_short_n.replace("%qty%",e)},loadingMore:function(){return wc_country_select_params.i18n_load_more},maximumSelected:function(e){return 1===e.maximum?wc_country_select_params.i18n_selection_too_long_1:wc_country_select_params.i18n_selection_too_long_n.replace("%qty%",e.maximum)},noResults:function(){return wc_country_select_params.i18n_no_matches},searching:function(){return wc_country_select_params.i18n_searching}}}));d(this).on("select2:select",function(){d(this).trigger("focus")}).selectWoo(t),FCUtils.maybeRefocusElement(window.fcCurrentFocusedElement,window.fcCurrentFocusedElementValue),setTimeout(function(){if(o&&"function"==typeof n.selectWoo){for(var e=document.querySelectorAll(".select2-container--open"),t=0;t<e.length;t++)e[t].remove();n.selectWoo("open")}},50)})})})(),d(document.body).on("country_to_state_changed",e),d(document.body).on("updated_checkout",e),d(document.body).on("wc_fragments_refreshed",e)),wc_country_select_params.countries.replace(/&quot;/g,'"')),m=JSON.parse(e),h=".woocommerce-billing-fields,.woocommerce-shipping-fields,.woocommerce-address-fields,.woocommerce-shipping-calculator";d(document.body).on("change refresh","select.country_to_state, input.country_to_state",function(){var e,t,n,o=d(this).closest(h),c=(FCUtils.maybeSetCurrentFocusedElementGlobalVariablesRelativeSelect2(),o.length||(o=d(this).closest(".form-row").parent()),d(this).val()),r=o.find("#state, #billing_state, #shipping_state, #calc_shipping_state"),a=r.closest(".form-row"),s=r.attr("name"),l=r.attr("id"),i=r.attr("data-input-classes"),u=r.val(),_=r.attr("placeholder")||r.attr("data-placeholder")||"";p&&(n=r.get(0),0<r.length)&&n.tomselect&&n.tomselect.destroy(),m[c]?(d.isEmptyObject(m[c])?(e=d('<input type="hidden" />').prop("id",l).prop("name",s).prop("placeholder",_).attr("data-input-classes",i).addClass("hidden "+i),a.hide().find(".select2-container").remove(),r.replaceWith(e)):(t=m[c],n=d('<option value=""></option>').text(wc_country_select_params.i18n_select_state_text),_=_||wc_country_select_params.i18n_select_state_text,a.show(),r.is("input")&&(e=d("<select></select>").prop("id",l).prop("name",s).data("placeholder",_).attr("data-input-classes",i).addClass("state_select "+i),r.replaceWith(e),r=o.find("#state, #billing_state, #shipping_state, #calc_shipping_state")),r.empty().append(n),d.each(t,function(e){e=d("<option></option>").prop("value",e).text(t[e]);r.append(e)}),r.val(u).trigger("change")),d(document.body).trigger("country_to_state_changed",[c,o])):r.is('select, input[type="hidden"]')&&(e=d('<input type="text" />').prop("id",l).prop("name",s).prop("placeholder",_).attr("data-input-classes",i).addClass("input-text  "+i),a.show().find(".select2-container").remove(),r.replaceWith(e),d(document.body).trigger("country_to_state_changed",[c,o])),FCUtils.maybeRefocusElement(window.fcCurrentFocusedElement,window.fcCurrentFocusedElementValue),d(document.body).trigger("country_to_state_changing",[c,o])}),d(document.body).on("wc_address_i18n_ready",function(){d(h).each(function(){var e=d(this).find("#country, #billing_country, #shipping_country, #calc_shipping_country");0!==e.length&&0!==e.val().length&&e.trigger("refresh")})})});
//# sourceMappingURL=maps/country-select-315-beta-6.min.js.map
