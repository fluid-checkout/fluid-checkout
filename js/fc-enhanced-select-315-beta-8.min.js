!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.FCEnhancedSelect=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function s(e){for(var t,l=[],n=e&&e.options,o=0;o<n.length;o++)(t=n[o]).selected&&l.push(t.value||t.text);return l=1===l.length?l[0]:l}function t(e){var t;(e=e.target).matches(d.selectFieldSelector)&&e.tomselect&&(t=s(e),e.tomselect.setValue(t,!0))}function i(){this.focus_node.removeAttribute("autocomplete")}function r(){var e;FCUtils.isCurrentBreakpointOrSmaller("phablet")&&(e=this.focus_node.closest(d.formRowSelector))&&FCUtils.scrollToElement(e,null,30)}function l(e){e.target.closest(d.inputFieldSelector)&&!(e=e.target.closest(d.formRowSelector).querySelector("select").tomselect).isOpen&&e.open()}function n(e){e.target.closest(d.inputFieldSelector)&&(e=e.target.closest(d.formRowSelector).querySelector("select").tomselect).isOpen&&e.close()}var o=jQuery,c=!1,u={},d={bodyClass:"has-fc-enhanced-select",formRowSelector:".form-row.fc-select2-field",selectFieldSelector:".fc-select2-field select",controlElementSelector:".ts-control",inputFieldSelector:".fc-select2-field .ts-control > input",fieldSettings:{openOnFocus:!1,create:!1,diacritics:!0},fieldPluginsSingle:[],fieldPluginsMulti:["remove_button"]};null!=o&&(o.fn.select2=function(){return this},o.fn.selectWoo=function(){return this}),u.enhanceFields=function(e,t){if("undefined"!=typeof TomSelect&&"string"==typeof(e=null==e?d.selectFieldSelector:e)){var l;null==t&&(t=d.fieldSettings);try{l=document.querySelectorAll(e)}catch(e){return void console.warn("Enhanced select: "+e.message)}for(var n=0;n<l.length;n++){var o=l[n],c=s(o),o=(o.tomselect&&o.tomselect.destroy(),o.hasAttribute("multiple")?t.plugins=d.fieldPluginsMulti:t.plugins=d.fieldPluginsSingle,new TomSelect(o,t));o.setValue(c,!0),o.on("focus",i),o.on("blur",i),o.on("dropdown_open",r)}}};return u.init=function(e){c||(d=FCUtils.extendObject(d,e),document.addEventListener("change",t,!0),document.addEventListener("focus",l,!0),document.addEventListener("blur",n,!0),u.enhanceFields(),document.body.classList.add(d.bodyClass),c=!0)},u});
//# sourceMappingURL=maps/fc-enhanced-select-315-beta-8.min.js.map
