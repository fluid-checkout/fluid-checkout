!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.FCEnhancedSelect=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function s(e){for(var t,n=[],l=e&&e.options,c=0;c<l.length;c++)(t=l[c]).selected&&n.push(t.value||t.text);return n=1===n.length?n[0]:n}function t(e){var t;(e=e.target).matches(u.enhancedSelectFieldsSelector)&&e.tomselect&&(t=s(e),e.tomselect.setValue(t,!0))}function i(){this.focus_node.removeAttribute("autocomplete")}function r(){var e;FCUtils.isCurrentBreakpointOrSmaller("phablet")&&(e=this.focus_node.closest(u.formRowSelector))&&FCUtils.scrollToElement(e,null,30)}var n=jQuery,l=!1,c={},u={bodyClass:"has-fc-enhanced-select",formRowSelector:".form-row.fc-select2-field",enhancedSelectFieldsSelector:".fc-select2-field select",enhancedSelectSettings:{create:!1,diacritics:!0},enhancedSelectPluginsSingle:[],enhancedSelectPluginsMulti:["remove_button"]};null!=n&&(n.fn.select2=function(){return this},n.fn.selectWoo=function(){return this});return c.enhanceFields=function(e,t){if("undefined"!=typeof TomSelect&&"string"==typeof(e=null==e?u.enhancedSelectFieldsSelector:e)){var n;null==t&&(t=u.enhancedSelectSettings);try{n=document.querySelectorAll(e)}catch(e){return void console.warn("Enhanced select: "+e.message)}for(var l=0;l<n.length;l++){var c=n[l],o=s(c);c.tomselect&&c.tomselect.destroy(),c.hasAttribute("multiple")?t.plugins=u.enhancedSelectPluginsMulti:t.plugins=u.enhancedSelectPluginsSingle,new TomSelect(c,t),c.tomselect.setValue(o,!0),c.tomselect.on("initialize",i),c.tomselect.on("focus",i),c.tomselect.on("blur",i),c.tomselect.on("dropdown_open",r)}}},c.init=function(e){l||(u=FCUtils.extendObject(u,e),document.addEventListener("change",t,!0),c.enhanceFields(),document.body.classList.add(u.bodyClass),l=!0)},c});
//# sourceMappingURL=maps/fc-enhanced-select-315-beta-8.min.js.map
