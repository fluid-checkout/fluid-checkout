!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.MailcheckInit=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";jQuery;function n(){var e={},t=!1,l=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],l++);l<arguments.length;l++){a=void 0;var a,i=arguments[l];for(a in i)i.hasOwnProperty(a)&&(t&&"[object Object]"===Object.prototype.toString.call(i[a])?e[a]=n(e[a],i[a]):e[a]=i[a])}return e}function t(e){var t,l;d(),null!==g&&(t=r.suggestionTemplate.replaceAll("{address}",e.address).replaceAll("{domain}",e.domain),t=r.suggestedElementTemplate.replaceAll("{suggestion}",t).replaceAll("{suggestion-value}",e.full),e=g.parentNode,(l=document.createElement("div")).innerHTML=t,e.insertBefore(l.firstChild,g.nextSibling),l=null,g.classList.add(r.mailFieldSuggestedClass))}function l(e){void 0!==Mailcheck&&e.target.matches(r.mailFieldSelector)&&(g=e.target,Mailcheck.run({email:g.value,suggested:t,empty:d}),g=null)}function a(e){var t;e.target.closest(r.suggestionApplySelector)&&(e.preventDefault(),null!==(e=e.target.closest(r.suggestionApplySelector))&&null!==(t=e.closest(r.formFieldWrapperSelector))&&null!==(t=t.querySelector(r.mailFieldSelector))&&(t.value=e.getAttribute(r.suggestionValueAttr),g=t,d(),g=null,t.focus(),window.CheckoutValidation&&CheckoutValidation.validateField(t)))}function i(e){e.defaultPrevented||e.key!=c&&e.key!=u||!e.target.closest(r.suggestionApplySelector)||a(e)}var s=!1,o={},r={mailFieldSelector:"[data-mailcheck]",mailFieldSuggestedClass:"has-email-suggestion",formFieldWrapperSelector:".form-row",suggestionElementSelector:"[data-mailcheck-suggestion]",suggestionApplySelector:"[data-mailcheck-apply]",suggestionValueAttr:"data-suggestion-value",suggestedElementTemplate:'<div class="fc-mailcheck-suggestion" data-mailcheck-suggestion>Did you mean <a class="mailcheck-suggestion" href="#apply-suggestion" data-mailcheck-apply data-suggestion-value="{suggestion-value}">{suggestion}</a>?</div>',suggestionTemplate:'{address}@<span class="mailcheck-suggestion-domain">{domain}</span>'},c="Enter",u=" ",g=null,d=function(){if(null!==g){for(var e=g.parentNode.querySelectorAll(r.suggestionElementSelector),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);g.classList.remove(r.mailFieldSuggestedClass)}};return o.init=function(e){s||(r=n(!0,r,e),window.addEventListener("keyup",l,!0),window.addEventListener("click",a,!0),document.addEventListener("keydown",i,!0),s=!0)},o});
//# sourceMappingURL=maps/mailcheck-init-220.min.js.map
