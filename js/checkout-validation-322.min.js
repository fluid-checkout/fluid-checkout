!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.CheckoutValidation=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function u(e){return!(!e||!g.alwaysValidateFieldsSelector||!e.matches(g.alwaysValidateFieldsSelector))}function t(e,t,a){return!!t.matches(g.typeRequiredSelector)}function a(e,t,a){return v.hasValue(e)?{valid:!0}:{valid:!1,message:g.validationMessages.required}}function i(e,t,a){return!!t.matches(g.typeEmailSelector)}function r(e,t,a){return!v.hasValue(e)||new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i).test(e.value)?{valid:!0}:{valid:!1,message:g.validationMessages.email}}function l(e,t,a){return!!t.querySelector(g.typeConfirmationSelector)}function o(e,t,a){return v.hasValue(e)?(t=(t=t.closest("form"))?t.querySelector(e.getAttribute("data-confirm-with")):null)&&e.value==t.value?{valid:!1,message:g.validationMessages.confirmation}:{valid:!0}:{valid:!1}}function n(e,t,a){return!!t.matches(g.typeShippingMethodSelector)}function s(e,t,a){return t.querySelector('input[type="radio"]:checked')?{valid:!0}:{valid:!1,message:g.validationMessages.required}}function c(e,t,a){for(var i,r=!0,l=Object.getOwnPropertyNames(a),o=0;o<l.length;o++){var n=l[o],s=h[n],u=a[n].valid,n=a[n].message,c=s.invalidClass;t.classList.remove(g.invalidClass+"-"+s.invalidClass),f=F=void 0;for(var d=c,F=t.querySelectorAll("span.woocommerce-error.invalid-"+d),f=0;f<F.length;f++)F[f].parentNode.removeChild(F[f]);!0!==u&&(r=!1,null!==u)&&(d=t,u=n,n=c,c=void 0,(i=e)&&u&&0!=u.length&&(d=(i.closest(g.inputWrapperSelector)||d).querySelector(g.referenceNodeSelector),y(i)&&(c=i.parentNode.querySelector(g.select2WrapperSelector))&&(d=c),S(i)&&(c=i.parentNode.querySelector(g.selectTomWrapperSelector))&&(d=c),i=(d=x(i)&&(c=i.closest(g.inputWrapperSelector))?c.lastChild:d).parentNode,(c=document.createElement("span")).className="woocommerce-error invalid-"+n,c.innerText=u,i.insertBefore(c,d.nextSibling)),t.classList.add(g.invalidClass+"-"+s.invalidClass))}return t.classList.toggle(g.validClass,r),t.classList.toggle(g.invalidClass,!r),r}function d(e,t,a){p&&f(a).toArray().forEach(function(e){Array.from(e.querySelectorAll(g.clearValidationCountryChangedSelector)).forEach(function(e){var t;""==e.value&&(t=e.closest(g.formRowSelector),v.clearValidationResults(e,t))})})}function F(e){var t,a;!0!==window.processing_checkout_update&&(t=e.target,y(e.target)&&(a=e.target.closest(g.formRowSelector))&&(t=a.querySelector("select")),v.validateField(t,e.type))}var f=jQuery,p=null!=f,m=!1,v={},h={},g={bodyClass:"fc-checkout-validation--active",formSelector:"form.checkout",formRowSelector:".form-row, .shipping-method__package",inputWrapperSelector:".woocommerce-input-wrapper, .form-row",validateFieldsSelector:".input-text, select, .input-checkbox, .shipping-method__options",referenceNodeSelector:".input-text, select, .input-checkbox, .shipping-method__options",clearValidationCountryChangedSelector:"#state, #shipping_state, #billing_state",alwaysValidateFieldsSelector:"",select2Selector:".select2, .select2-hidden-accessible",select2WrapperSelector:".select2-container",selectTomSelector:".ts-hidden-accessible",selectTomWrapperSelector:".ts-wrapper",typeRequiredSelector:".validate-required",typeEmailSelector:".validate-email",typeConfirmationSelector:"[data-confirm-with]",typeShippingMethodSelector:".shipping-method__package",validClass:"woocommerce-validated",invalidClass:"woocommerce-invalid",validationMessages:{required:"This is a required field.",email:"This is not a valid email address.",confirmation:"This field does not match the related field value."}},y=function(e){return!!e.closest(g.select2Selector)},S=function(e){return!!e.closest(g.selectTomSelector)},x=function(e){return!!e.matches('input[type="checkbox"]')};v.hasValue=function(e){return e.matches("select")?!!(e.options&&-1<e.selectedIndex&&""!=e.options[e.selectedIndex].value):x(e)?e.checked:""!=e.value};return v.clearValidationResults=function(e,t){if(e&&t){for(var a=Object.keys(h),i=0;i<a.length;i++){var r=a[i];t.classList.remove(g.invalidClass+"-"+r),t.classList.remove(g.invalidClass+"-"+r+"-field")}t.classList.remove(g.validClass),t.classList.remove(g.invalidClass)}},v.validateField=function(e,t,a){if(!e)return!0;var i={},r=function(e){if(e)return e.closest(g.formRowSelector)}(e);if(!r)return!0;if(!u(e)&&!0!==a&&null===e.offsetParent)return!0;if(!function(e,t,a){if(u(e))return!0;for(var i=Object.getOwnPropertyNames(h),r=0;r<i.length;r++){var l=i[r];if(h[l].needsValidation(e,t,a))return!0}return!1}(e,r,t))return!0;for(var l=Object.getOwnPropertyNames(h),o=0;o<l.length;o++){var n=l[o],s=h[n];s.needsValidation(e,r,t)&&(i[n]=s.validate(e,r,t))}return c(e,r,i)},v.validateAllFields=function(e,t){for(var a=!0,i=(e=e||document.querySelector(g.formSelector)).querySelectorAll(g.validateFieldsSelector),r=0;r<i.length;r++)v.validateField(i[r],"validate-all",t)||(a=!1);return a},v.registerValidationType=function(e,t,a,i){return!!h&&"string"==typeof e&&"string"==typeof t&&a instanceof Function&&i instanceof Function&&(h.hasOwnProperty(e)?(console.log('Validation type "'+e+'" already registered.'),!1):(h[e]={invalidClass:t,needsValidation:a,validate:i},!0))},v.getValidationTypes=function(){return h},v.init=function(e){m||(g=FCUtils.extendObject(g,e),v.registerValidationType("required","required-field",t,a),v.registerValidationType("email","email",i,r),v.registerValidationType("confirmation","confirmation-field",l,o),v.registerValidationType("shipping-method","shipping-method-field",n,s),p&&(f(g.formSelector).on("input validate change",g.validateFieldsSelector,F),f(document).on("load_ajax_content_done",v.init),f(document).on("country_to_state_changed",d)),document.body.classList.add(g.bodyClass),m=!0)},v});
//# sourceMappingURL=maps/checkout-validation-322.min.js.map
