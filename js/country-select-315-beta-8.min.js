jQuery(function(d){if("undefined"==typeof wc_country_select_params)return!1;var p=window.TomSelect&&window.fcSettings&&fcSettings.use_enhanced_select&&"yes"===fcSettings.use_enhanced_select,e=(p&&window.FCEnhancedSelect&&d(document.body).on("country_to_state_changed",function(){FCEnhancedSelect.enhanceFields("select.country_select, select.state_select")}),d().selectWoo&&!p&&((e=function(){requestAnimationFrame(function(){d("select.country_select, select.state_select").each(function(){var n=d(this),e=n.attr("id"),t=document.querySelector(".select2-container--open"),o=null!=t&&null!=t.querySelector("#select2-"+e+"-results"),t=(n.off("select2:select"),n.parent().find(".select2-container").remove(),d.extend({placeholder:n.attr("data-placeholder")||n.attr("placeholder")||"",label:n.attr("data-label")||null,width:"100%"},{language:{errorLoading:function(){return wc_country_select_params.i18n_searching},inputTooLong:function(e){e=e.input.length-e.maximum;return 1==e?wc_country_select_params.i18n_input_too_long_1:wc_country_select_params.i18n_input_too_long_n.replace("%qty%",e)},inputTooShort:function(e){e=e.minimum-e.input.length;return 1==e?wc_country_select_params.i18n_input_too_short_1:wc_country_select_params.i18n_input_too_short_n.replace("%qty%",e)},loadingMore:function(){return wc_country_select_params.i18n_load_more},maximumSelected:function(e){return 1===e.maximum?wc_country_select_params.i18n_selection_too_long_1:wc_country_select_params.i18n_selection_too_long_n.replace("%qty%",e.maximum)},noResults:function(){return wc_country_select_params.i18n_no_matches},searching:function(){return wc_country_select_params.i18n_searching}}}));d(this).on("select2:select",function(){d(this).trigger("focus")}).selectWoo(t),FCUtils.maybeRefocusElement(window.fcCurrentFocusedElement,window.fcCurrentFocusedElementValue),setTimeout(function(){if(o&&"function"==typeof n.selectWoo){for(var e=document.querySelectorAll(".select2-container--open"),t=0;t<e.length;t++)e[t].remove();n.selectWoo("open")}},50)})})})(),d(document.body).on("country_to_state_changed",e),d(document.body).on("updated_checkout",e),d(document.body).on("wc_fragments_refreshed",e)),wc_country_select_params.countries.replace(/&quot;/g,'"')),m=JSON.parse(e),h=".woocommerce-billing-fields,.woocommerce-shipping-fields,.woocommerce-address-fields,.woocommerce-shipping-calculator";d(document.body).on("change refresh","select.country_to_state, input.country_to_state",function(){var e,t,n,o=d(this).closest(h),c=(FCUtils.maybeSetCurrentFocusedElementGlobalVariablesRelativeSelect2(),o.length||(o=d(this).closest(".form-row").parent()),d(this).val()),a=o.find("#state, #billing_state, #shipping_state, #calc_shipping_state"),r=a.closest(".form-row"),s=a.attr("name"),i=a.attr("id"),l=a.attr("data-input-classes"),u=a.val(),_=a.attr("placeholder")||a.attr("data-placeholder")||"";p&&(n=a.get(0),0<a.length)&&n.tomselect&&n.tomselect.destroy(),m[c]?(d.isEmptyObject(m[c])?(e=d('<input type="hidden" />').prop("id",i).prop("name",s).prop("placeholder",_).attr("data-input-classes",l).addClass("hidden "+l),r.hide().find(".select2-container").remove(),a.replaceWith(e)):(t=m[c],n=d('<option value=""></option>').text(wc_country_select_params.i18n_select_state_text),_=_||wc_country_select_params.i18n_select_state_text,r.show(),a.is("input")&&(e=d("<select></select>").prop("id",i).prop("name",s).data("placeholder",_).attr("data-input-classes",l).addClass("state_select "+l),a.replaceWith(e),a=o.find("#state, #billing_state, #shipping_state, #calc_shipping_state")),a.empty().append(n),d.each(t,function(e){e=d("<option></option>").prop("value",e).text(t[e]);a.append(e)}),a.val(u).trigger("change")),d(document.body).trigger("country_to_state_changed",[c,o])):a.is('select, input[type="hidden"]')&&(e=d('<input type="text" />').prop("id",i).prop("name",s).prop("placeholder",_).attr("data-input-classes",l).addClass("input-text  "+l),r.show().find(".select2-container").remove(),a.replaceWith(e),d(document.body).trigger("country_to_state_changed",[c,o])),FCUtils.maybeRefocusElement(window.fcCurrentFocusedElement,window.fcCurrentFocusedElementValue),d(document.body).trigger("country_to_state_changing",[c,o])}),d(document.body).on("wc_address_i18n_ready",function(){d(h).each(function(){var e=d(this).find("#country, #billing_country, #shipping_country, #calc_shipping_country");0!==e.length&&0!==e.val().length&&e.trigger("refresh")})})});
//# sourceMappingURL=maps/country-select-315-beta-8.min.js.map
