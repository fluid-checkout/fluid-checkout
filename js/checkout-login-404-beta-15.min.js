!function(e,o){"function"==typeof define&&define.amd?define([],o()):"object"==typeof exports?module.exports=o():e.CheckoutLogin=o()}("undefined"!=typeof global?global:this.window||this.global,function(e){function o(e){var o,r,n;e.target.closest(l.loginButtonSelector)&&(e.preventDefault(),i(),e=document.querySelector(l.loginFormSelector),o=document.querySelector(l.usernameFieldSelector),r=document.querySelector(l.passwordFieldSelector),n=document.querySelector(l.rememberMeFieldSelector),e)&&o&&r&&n&&(t.blockUI(e),e={security:l.checkoutLoginNonce,username:o.value,password:r.value,rememberme:n.checked},c.ajax({type:"POST",url:fcSettings.wcAjaxUrl.replace("%%endpoint%%","fc_checkout_login"),data:e,dataType:"json",success:function(e){e.result&&"success"===e.result?window.location.reload():e.result&&"error"===e.result&&(s(e.message),e=document.querySelector(l.loginFormSelector))&&t.unblockUI(e)}}))}var c=jQuery,r=null!=c,n=!1,t={},l={uiProcessingClass:"processing",messagesWrapperSelector:".fc-login-messages",loginFormSelector:".woocommerce-form-login",usernameFieldSelector:'.woocommerce-form-login input[name="username"]',passwordFieldSelector:'.woocommerce-form-login input[name="password"]',rememberMeFieldSelector:'.woocommerce-form-login input[name="rememberme"]',loginButtonSelector:".fc-login-button .woocommerce-form-login__submit"},s=function(e){var o;e&&(o=document.querySelector(l.messagesWrapperSelector))&&(o.innerHTML='<div class="woocommerce-error">'+e+"</div>")},i=function(){var e=document.querySelector(l.messagesWrapperSelector);e&&(e.innerHTML="")};t.blockUI=function(e){r&&e&&c(e).addClass(l.uiProcessingClass).block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},t.unblockUI=function(e){r&&c(e).removeClass(l.uiProcessingClass).unblock()};return t.init=function(e){n||(l=FCUtils.extendObject(l,e),window.addEventListener("click",o,!0),n=!0)},t});