!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.FCUtils=t()}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function t(e){!0!==e&&(e=!1);var t=document.activeElement,n=t.closest(o);return e&&n&&(e=n.getAttribute("id").replace("-results","-container"),t=document.getElementById(e)),(n=t.closest(r))&&n.querySelector(l)&&(t&&t.blur(),t=n),t}var c={},r=".form-row.fc-select2-field",u='.select2-selection, input[type="text"]',o=".select2-results__options",l=".select2-selection__rendered",i=".form-row.fc-select2-field",s="keeping-closed";c.keyboardKeys={ESC:"Escape",ENTER:"Enter",SPACE:" ",TAB:"Tab",CAPS:"CapsLock",SHIFT:"Shift",FUNCTION:"Fn",CONTROL:"Control",COMMAND_OR_WINDOWS:"Meta",ALT:"Alt",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown"},c.animationEndEvent=window.whichAnimationEnd?window.whichAnimationEnd():"animationend",c.extendObject=function(){var e={},t=!1,n=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);n<arguments.length;n++){o=void 0;var o,l=arguments[n];for(o in l)l.hasOwnProperty(o)&&(t&&"[object Object]"===Object.prototype.toString.call(l[o])?e[o]=c.extendObject(e[o],l[o]):e[o]=l[o])}return e},c.debounce=function(o,l,c){var r;return function(){var e=this,t=arguments,n=c&&!r;clearTimeout(r),r=setTimeout(function(){r=null,c||o.apply(e,t)},l),n&&o.apply(e,t)}};return c.setCurrentFocusedElementGlobalVariables=function(){var e;window.fcCurrentFocusedElement=t(),window.fcCurrentFocusedElementValue=window.fcCurrentFocusedElement.value,window.fcCurrentFocusedElementReopenDropdown=!1,fcCurrentFocusedElement.id.includes("-ts-control")&&(e=(e=fcCurrentFocusedElement.closest(i))&&e.querySelector("select"))&&e.tomselect&&e.tomselect.isOpen&&(fcCurrentFocusedElementReopenDropdown=!0)},c.maybeSetCurrentFocusedElementGlobalVariablesRelativeSelect2=function(){var e=t(!0);e&&(window.fcCurrentFocusedElement=e,window.fcCurrentFocusedElementValue=window.fcCurrentFocusedElement.value)},c.unsetCurrentFocusedElementGlobalVariables=function(){window.fcCurrentFocusedElement=null,window.fcCurrentFocusedElementValue=null},c.maybeRefocusElement=function(l,c){null!=l&&document.body!==l&&requestAnimationFrame(function(){var e,t,n,o;l.closest(r)?e=(n=l.closest(r)).querySelector(u):l.id?e=document.getElementById(l.id):l.getAttribute("name")&&(t=l.getAttribute("name"),e=document.querySelector('[name="'+t+'"]')),e&&(o=(n=e.closest(i))&&n.querySelector("select"),!fcCurrentFocusedElementReopenDropdown&&n&&n.classList.add(s),e.focus(),null!=c&&c!==e.value&&(e.value=c),setTimeout(function(){null!==e.selectionStart&&null!==e.selectionEnd&&(l.selectionStart&&l.selectionEnd?(e.selectionStart=l.selectionStart,e.selectionEnd=l.selectionEnd):e.selectionStart=e.selectionEnd=999999),!fcCurrentFocusedElementReopenDropdown&&e.id.includes("-ts-control")&&o&&o.tomselect&&o.tomselect.close(),n&&n.classList.remove(s)},0))})},c});
//# sourceMappingURL=maps/fc-utils-315-beta-6.min.js.map
